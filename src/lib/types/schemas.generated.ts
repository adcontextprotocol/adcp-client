// Generated Zod v4 schemas from TypeScript types
// Generated at: 2026-02-23T01:19:24.912Z
// Sources:
//   - core.generated.ts (core types)
//   - tools.generated.ts (tool types)
//
// These schemas provide runtime validation for AdCP data structures
// Generated using ts-to-zod from TypeScript type definitions

// Generated by ts-to-zod
import { z } from "zod";

export const MediaBuyStatusSchema = z.union([z.literal("pending_activation"), z.literal("active"), z.literal("paused"), z.literal("completed")]);

export const PacingSchema = z.union([z.literal("even"), z.literal("asap"), z.literal("front_loaded")]);

export const MetroAreaSystemSchema = z.union([z.literal("nielsen_dma"), z.literal("uk_itl1"), z.literal("uk_itl2"), z.literal("eurostat_nuts2"), z.literal("custom")]);

export const PostalCodeSystemSchema = z.union([z.literal("us_zip"), z.literal("us_zip_plus_four"), z.literal("gb_outward"), z.literal("gb_full"), z.literal("ca_fsa"), z.literal("ca_full"), z.literal("de_plz"), z.literal("fr_code_postal"), z.literal("au_postcode")]);

export const DayOfWeekSchema = z.union([z.literal("monday"), z.literal("tuesday"), z.literal("wednesday"), z.literal("thursday"), z.literal("friday"), z.literal("saturday"), z.literal("sunday")]);

export const AgeVerificationMethodSchema = z.union([z.literal("facial_age_estimation"), z.literal("id_document"), z.literal("digital_id"), z.literal("credit_card"), z.literal("world_id")]);

export const DevicePlatformSchema = z.union([z.literal("ios"), z.literal("android"), z.literal("windows"), z.literal("macos"), z.literal("linux"), z.literal("chromeos"), z.literal("tvos"), z.literal("tizen"), z.literal("webos"), z.literal("fire_os"), z.literal("roku_os"), z.literal("unknown")]);

export const EventTypeSchema = z.union([z.literal("page_view"), z.literal("view_content"), z.literal("select_content"), z.literal("select_item"), z.literal("search"), z.literal("share"), z.literal("add_to_cart"), z.literal("remove_from_cart"), z.literal("viewed_cart"), z.literal("add_to_wishlist"), z.literal("initiate_checkout"), z.literal("add_payment_info"), z.literal("purchase"), z.literal("refund"), z.literal("lead"), z.literal("qualify_lead"), z.literal("close_convert_lead"), z.literal("disqualify_lead"), z.literal("complete_registration"), z.literal("subscribe"), z.literal("start_trial"), z.literal("app_install"), z.literal("app_launch"), z.literal("contact"), z.literal("schedule"), z.literal("donate"), z.literal("submit_application"), z.literal("custom")]);

export const ExtensionObjectSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()]));

export const AccountSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    account_id: z.string(),
    name: z.string(),
    advertiser: z.string().nullish(),
    billing_proxy: z.string().nullish(),
    status: z.union([z.literal("active"), z.literal("pending_approval"), z.literal("payment_required"), z.literal("suspended"), z.literal("closed")]),
    house: z.string().nullish(),
    brand_id: z.string().nullish(),
    operator: z.string().nullish(),
    billing: z.union([z.literal("brand"), z.literal("operator"), z.literal("agent")]).nullish(),
    rate_card: z.string().nullish(),
    payment_terms: z.string().nullish(),
    credit_limit: z.object({
        amount: z.number(),
        currency: z.string()
    }).nullish(),
    sandbox: z.boolean().nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const CreativeAssignmentSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    creative_id: z.string(),
    weight: z.number().nullish(),
    placement_ids: z.array(z.string()).nullish()
}));

export const FormatIDSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    agent_url: z.string(),
    id: z.string(),
    width: z.number().nullish(),
    height: z.number().nullish(),
    duration_ms: z.number().nullish()
}));

export const OptimizationGoalSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    event_source_id: z.string(),
    event_type: EventTypeSchema,
    target_roas: z.number().nullish(),
    target_cpa: z.number().nullish(),
    attribution_window: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        click_through: z.string(),
        view_through: z.string().nullish()
    })).nullish()
}));

export const DaypartTargetSchema = z.object({
    days: z.array(DayOfWeekSchema),
    start_hour: z.number(),
    end_hour: z.number(),
    label: z.string().nullish()
});

export const FrequencyCapSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    suppress_minutes: z.number()
}));

export const PropertyListReferenceSchema = z.object({
    agent_url: z.string(),
    list_id: z.string(),
    auth_token: z.string().nullish()
});

export const CatalogTypeSchema = z.union([z.literal("offering"), z.literal("product"), z.literal("inventory"), z.literal("store"), z.literal("promotion"), z.literal("hotel"), z.literal("flight"), z.literal("job"), z.literal("vehicle"), z.literal("real_estate"), z.literal("education"), z.literal("destination"), z.literal("app")]);

export const FeedFormatSchema = z.union([z.literal("google_merchant_center"), z.literal("facebook_catalog"), z.literal("shopify"), z.literal("linkedin_jobs"), z.literal("custom")]);

export const UpdateFrequencySchema = z.union([z.literal("realtime"), z.literal("hourly"), z.literal("daily"), z.literal("weekly")]);

export const ContentIDTypeSchema = z.union([z.literal("sku"), z.literal("gtin"), z.literal("offering_id"), z.literal("job_id"), z.literal("hotel_id"), z.literal("flight_id"), z.literal("vehicle_id"), z.literal("listing_id"), z.literal("store_id"), z.literal("program_id"), z.literal("destination_id"), z.literal("app_id")]);

export const JavaScriptModuleTypeSchema = z.union([z.literal("esm"), z.literal("commonjs"), z.literal("script")]);

export const VASTVersionSchema = z.union([z.literal("2.0"), z.literal("3.0"), z.literal("4.0"), z.literal("4.1"), z.literal("4.2")]);

export const VASTTrackingEventSchema = z.union([z.literal("start"), z.literal("firstQuartile"), z.literal("midpoint"), z.literal("thirdQuartile"), z.literal("complete"), z.literal("impression"), z.literal("click"), z.literal("pause"), z.literal("resume"), z.literal("skip"), z.literal("mute"), z.literal("unmute"), z.literal("fullscreen"), z.literal("exitFullscreen"), z.literal("playerExpand"), z.literal("playerCollapse")]);

export const DAASTVersionSchema = z.union([z.literal("1.0"), z.literal("1.1")]);

export const DAASTTrackingEventSchema = z.union([z.literal("start"), z.literal("firstQuartile"), z.literal("midpoint"), z.literal("thirdQuartile"), z.literal("complete"), z.literal("impression"), z.literal("pause"), z.literal("resume"), z.literal("skip"), z.literal("mute"), z.literal("unmute")]);

export const URLAssetTypeSchema = z.union([z.literal("clickthrough"), z.literal("tracker_pixel"), z.literal("tracker_script")]);

export const CreativeStatusSchema = z.union([z.literal("processing"), z.literal("approved"), z.literal("rejected"), z.literal("pending_review"), z.literal("archived")]);

export const CatalogSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    catalog_id: z.string().nullish(),
    name: z.string().nullish(),
    type: CatalogTypeSchema,
    url: z.string().nullish(),
    feed_format: FeedFormatSchema.nullish(),
    update_frequency: UpdateFrequencySchema.nullish(),
    items: z.array(z.object({})).nullish(),
    ids: z.array(z.string()).nullish(),
    gtins: z.array(z.string()).nullish(),
    tags: z.array(z.string()).nullish(),
    category: z.string().nullish(),
    query: z.string().nullish(),
    conversion_events: z.array(EventTypeSchema).nullish(),
    content_id_type: ContentIDTypeSchema.nullish()
}));

export const ImageAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    width: z.number(),
    height: z.number(),
    format: z.string().nullish(),
    alt_text: z.string().nullish()
}));

export const VideoAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    width: z.number(),
    height: z.number(),
    duration_ms: z.number().nullish(),
    file_size_bytes: z.number().nullish(),
    container_format: z.string().nullish(),
    video_codec: z.string().nullish(),
    video_bitrate_kbps: z.number().nullish(),
    frame_rate: z.string().nullish(),
    frame_rate_type: z.union([z.literal("constant"), z.literal("variable")]).nullish(),
    scan_type: z.union([z.literal("progressive"), z.literal("interlaced")]).nullish(),
    color_space: z.union([z.literal("rec709"), z.literal("rec2020"), z.literal("rec2100"), z.literal("srgb"), z.literal("dci_p3")]).nullish(),
    hdr_format: z.union([z.literal("sdr"), z.literal("hdr10"), z.literal("hdr10_plus"), z.literal("hlg"), z.literal("dolby_vision")]).nullish(),
    chroma_subsampling: z.union([z.literal("4:2:0"), z.literal("4:2:2"), z.literal("4:4:4")]).nullish(),
    video_bit_depth: z.union([z.literal(8), z.literal(10), z.literal(12)]).nullish(),
    gop_interval_seconds: z.number().nullish(),
    gop_type: z.union([z.literal("closed"), z.literal("open")]).nullish(),
    moov_atom_position: z.union([z.literal("start"), z.literal("end")]).nullish(),
    has_audio: z.boolean().nullish(),
    audio_codec: z.string().nullish(),
    audio_sampling_rate_hz: z.number().nullish(),
    audio_channels: z.union([z.literal("mono"), z.literal("stereo"), z.literal("5.1"), z.literal("7.1")]).nullish(),
    audio_bit_depth: z.union([z.literal(16), z.literal(24), z.literal(32)]).nullish(),
    audio_bitrate_kbps: z.number().nullish(),
    audio_loudness_lufs: z.number().nullish(),
    audio_true_peak_dbfs: z.number().nullish(),
    captions_url: z.string().nullish(),
    transcript_url: z.string().nullish(),
    audio_description_url: z.string().nullish()
}));

export const AudioAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    duration_ms: z.number().nullish(),
    file_size_bytes: z.number().nullish(),
    container_format: z.string().nullish(),
    codec: z.string().nullish(),
    sampling_rate_hz: z.number().nullish(),
    channels: z.union([z.literal("mono"), z.literal("stereo"), z.literal("5.1"), z.literal("7.1")]).nullish(),
    bit_depth: z.union([z.literal(16), z.literal(24), z.literal(32)]).nullish(),
    bitrate_kbps: z.number().nullish(),
    loudness_lufs: z.number().nullish(),
    true_peak_dbfs: z.number().nullish(),
    transcript_url: z.string().nullish()
}));

export const TextAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    content: z.string(),
    language: z.string().nullish()
}));

export const HTMLAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    content: z.string(),
    version: z.string().nullish(),
    accessibility: z.object({
        alt_text: z.string().nullish(),
        keyboard_navigable: z.boolean().nullish(),
        motion_control: z.boolean().nullish(),
        screen_reader_tested: z.boolean().nullish()
    }).nullish()
}));

export const CSSAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    content: z.string(),
    media: z.string().nullish()
}));

export const JavaScriptAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    content: z.string(),
    module_type: JavaScriptModuleTypeSchema.nullish(),
    accessibility: z.object({
        alt_text: z.string().nullish(),
        keyboard_navigable: z.boolean().nullish(),
        motion_control: z.boolean().nullish(),
        screen_reader_tested: z.boolean().nullish()
    }).nullish()
}));

export const VASTAssetSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        delivery_type: z.literal("url"),
        url: z.string(),
        vast_version: VASTVersionSchema.nullish(),
        vpaid_enabled: z.boolean().nullish(),
        duration_ms: z.number().nullish(),
        tracking_events: z.array(VASTTrackingEventSchema).nullish(),
        captions_url: z.string().nullish(),
        audio_description_url: z.string().nullish()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        delivery_type: z.literal("inline"),
        content: z.string(),
        vast_version: VASTVersionSchema.nullish(),
        vpaid_enabled: z.boolean().nullish(),
        duration_ms: z.number().nullish(),
        tracking_events: z.array(VASTTrackingEventSchema).nullish(),
        captions_url: z.string().nullish(),
        audio_description_url: z.string().nullish()
    }))]);

export const DAASTAssetSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        delivery_type: z.literal("url"),
        url: z.string(),
        daast_version: DAASTVersionSchema.nullish(),
        duration_ms: z.number().nullish(),
        tracking_events: z.array(DAASTTrackingEventSchema).nullish(),
        companion_ads: z.boolean().nullish(),
        transcript_url: z.string().nullish()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        delivery_type: z.literal("inline"),
        content: z.string(),
        daast_version: DAASTVersionSchema.nullish(),
        duration_ms: z.number().nullish(),
        tracking_events: z.array(DAASTTrackingEventSchema).nullish(),
        companion_ads: z.boolean().nullish(),
        transcript_url: z.string().nullish()
    }))]);

export const URLAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    url_type: URLAssetTypeSchema.nullish(),
    description: z.string().nullish()
}));

export const PropertyIDSchema = z.string();

export const PropertyTagSchema = z.string();

export const MediaChannelSchema = z.union([z.literal("display"), z.literal("olv"), z.literal("social"), z.literal("search"), z.literal("ctv"), z.literal("linear_tv"), z.literal("radio"), z.literal("streaming_audio"), z.literal("podcast"), z.literal("dooh"), z.literal("ooh"), z.literal("print"), z.literal("cinema"), z.literal("email"), z.literal("gaming"), z.literal("retail_media"), z.literal("influencer"), z.literal("affiliate"), z.literal("product_placement")]);

export const DeliveryTypeSchema = z.union([z.literal("guaranteed"), z.literal("non_guaranteed")]);

export const CPAPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("cpa"),
    event_type: EventTypeSchema,
    custom_event_name: z.string().nullish(),
    event_source_id: z.string().nullish(),
    currency: z.string(),
    fixed_price: z.number(),
    min_spend_per_package: z.number().nullish()
}));

export const DemographicSystemSchema = z.union([z.literal("nielsen"), z.literal("barb"), z.literal("agf"), z.literal("oztam"), z.literal("mediametrie"), z.literal("custom")]);

export const ForecastRangeUnitSchema = z.union([z.literal("spend"), z.literal("reach_freq"), z.literal("weekly"), z.literal("daily"), z.literal("clicks"), z.literal("conversions")]);

export const ForecastMethodSchema = z.union([z.literal("estimate"), z.literal("modeled"), z.literal("guaranteed")]);

export const ReachUnitSchema = z.union([z.literal("individuals"), z.literal("households"), z.literal("devices"), z.literal("accounts"), z.literal("cookies"), z.literal("custom")]);

export const ReportingFrequencySchema = z.union([z.literal("hourly"), z.literal("daily"), z.literal("monthly")]);

export const AvailableMetricSchema = z.union([z.literal("impressions"), z.literal("spend"), z.literal("clicks"), z.literal("ctr"), z.literal("video_completions"), z.literal("completion_rate"), z.literal("conversions"), z.literal("conversion_value"), z.literal("roas"), z.literal("cost_per_acquisition"), z.literal("new_to_brand_rate"), z.literal("viewability"), z.literal("engagement_rate"), z.literal("views"), z.literal("completed_views"), z.literal("leads"), z.literal("reach"), z.literal("frequency"), z.literal("grps"), z.literal("quartile_data"), z.literal("dooh_metrics"), z.literal("cost_per_click")]);

export const CoBrandingRequirementSchema = z.union([z.literal("required"), z.literal("optional"), z.literal("none")]);

export const LandingPageRequirementSchema = z.union([z.literal("any"), z.literal("retailer_site_only"), z.literal("must_include_retailer")]);

export const DataProviderSignalSelectorSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        data_provider_domain: z.string(),
        selection_type: z.literal("all")
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        data_provider_domain: z.string(),
        selection_type: z.literal("by_id"),
        signal_ids: z.array(z.string())
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        data_provider_domain: z.string(),
        selection_type: z.literal("by_tag"),
        signal_tags: z.array(z.string())
    }))]);

export const ActionSourceSchema = z.union([z.literal("website"), z.literal("app"), z.literal("offline"), z.literal("phone_call"), z.literal("chat"), z.literal("email"), z.literal("in_store"), z.literal("system_generated"), z.literal("other")]);

export const PublisherPropertySelectorSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        publisher_domain: z.string(),
        selection_type: z.literal("all")
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        publisher_domain: z.string(),
        selection_type: z.literal("by_id"),
        property_ids: z.array(PropertyIDSchema)
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        publisher_domain: z.string(),
        selection_type: z.literal("by_tag"),
        property_tags: z.array(PropertyTagSchema)
    }))]);

export const PlacementSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    placement_id: z.string(),
    name: z.string(),
    description: z.string().nullish(),
    format_ids: z.array(FormatIDSchema).nullish()
}));

export const MeasurementSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    type: z.string(),
    attribution: z.string(),
    window: z.string().nullish(),
    reporting: z.string()
}));

export const ReportingCapabilitiesSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    available_reporting_frequencies: z.array(ReportingFrequencySchema),
    expected_delay_minutes: z.number(),
    timezone: z.string(),
    supports_webhooks: z.boolean(),
    available_metrics: z.array(AvailableMetricSchema),
    supports_creative_breakdown: z.boolean().nullish(),
    date_range_support: z.union([z.literal("date_range"), z.literal("lifetime_only")])
}));

export const CreativePolicySchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    co_branding: CoBrandingRequirementSchema,
    landing_page: LandingPageRequirementSchema,
    templates_available: z.boolean()
}));

export const PriceGuidanceSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    p25: z.number().nullish(),
    p50: z.number().nullish(),
    p75: z.number().nullish(),
    p90: z.number().nullish()
}));

export const VCPMPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("vcpm"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    max_bid: z.boolean().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    min_spend_per_package: z.number().nullish()
}));

export const CPCPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("cpc"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    max_bid: z.boolean().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    min_spend_per_package: z.number().nullish()
}));

export const CPCVPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("cpcv"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    max_bid: z.boolean().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    min_spend_per_package: z.number().nullish()
}));

export const CPVPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("cpv"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    max_bid: z.boolean().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    parameters: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        view_threshold: z.union([z.number(), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
                duration_seconds: z.number()
            }))])
    })),
    min_spend_per_package: z.number().nullish()
}));

export const CPPPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("cpp"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    parameters: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        demographic_system: DemographicSystemSchema.nullish(),
        demographic: z.string(),
        min_points: z.number().nullish()
    })),
    min_spend_per_package: z.number().nullish()
}));

export const FlatRatePricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("flat_rate"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    parameters: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        duration_hours: z.number().nullish(),
        sov_percentage: z.number().nullish(),
        loop_duration_seconds: z.number().nullish(),
        min_plays_per_hour: z.number().nullish(),
        venue_package: z.string().nullish(),
        estimated_impressions: z.number().nullish(),
        daypart: z.string().nullish()
    })).nullish(),
    min_spend_per_package: z.number().nullish()
}));

export const TimeBasedPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("time"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    parameters: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        time_unit: z.union([z.literal("hour"), z.literal("day"), z.literal("week"), z.literal("month")]),
        min_duration: z.number().nullish(),
        max_duration: z.number().nullish()
    })),
    min_spend_per_package: z.number().nullish()
}));

export const ForecastRangeSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    low: z.number().nullish(),
    mid: z.number(),
    high: z.number().nullish()
}));

export const PropertyTypeSchema = z.union([z.literal("website"), z.literal("mobile_app"), z.literal("ctv_app"), z.literal("desktop_app"), z.literal("dooh"), z.literal("podcast"), z.literal("radio"), z.literal("streaming_audio")]);

export const PropertyIdentifierTypesSchema = z.union([z.literal("domain"), z.literal("subdomain"), z.literal("network_id"), z.literal("ios_bundle"), z.literal("android_package"), z.literal("apple_app_store_id"), z.literal("google_play_id"), z.literal("roku_store_id"), z.literal("fire_tv_asin"), z.literal("samsung_app_id"), z.literal("apple_tv_bundle"), z.literal("bundle_id"), z.literal("venue_id"), z.literal("screen_id"), z.literal("openooh_venue_type"), z.literal("rss_url"), z.literal("apple_podcast_id"), z.literal("spotify_show_id"), z.literal("podcast_guid")]);

export const PropertySchema = z.object({
    property_id: PropertyIDSchema.nullish(),
    property_type: PropertyTypeSchema,
    name: z.string(),
    identifiers: z.array(z.object({
        type: PropertyIdentifierTypesSchema,
        value: z.string()
    })),
    tags: z.array(PropertyTagSchema).nullish(),
    supported_channels: z.array(MediaChannelSchema).nullish(),
    publisher_domain: z.string().nullish()
});

export const TaskTypeSchema = z.union([z.literal("create_media_buy"), z.literal("update_media_buy"), z.literal("sync_creatives"), z.literal("activate_signal"), z.literal("get_signals"), z.literal("create_property_list"), z.literal("update_property_list"), z.literal("get_property_list"), z.literal("list_property_lists"), z.literal("delete_property_list"), z.literal("sync_accounts"), z.literal("get_creative_delivery"), z.literal("sync_event_sources"), z.literal("sync_audiences"), z.literal("sync_catalogs"), z.literal("log_event")]);

export const AdCPDomainSchema = z.union([z.literal("media-buy"), z.literal("signals"), z.literal("governance"), z.literal("creative")]);

export const TaskStatusSchema = z.union([z.literal("submitted"), z.literal("working"), z.literal("input-required"), z.literal("completed"), z.literal("canceled"), z.literal("failed"), z.literal("rejected"), z.literal("auth-required"), z.literal("unknown")]);

export const CreativeActionSchema = z.union([z.literal("created"), z.literal("updated"), z.literal("unchanged"), z.literal("failed"), z.literal("deleted")]);

export const CatalogActionSchema = z.union([z.literal("created"), z.literal("updated"), z.literal("unchanged"), z.literal("failed"), z.literal("deleted")]);

export const CatalogItemStatusSchema = z.union([z.literal("approved"), z.literal("pending"), z.literal("rejected"), z.literal("warning")]);

export const ErrorSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    code: z.string(),
    message: z.string(),
    field: z.string().nullish(),
    suggestion: z.string().nullish(),
    retry_after: z.number().nullish(),
    details: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
}));

export const PaginationResponseSchema = z.object({
    has_more: z.boolean(),
    cursor: z.string().nullish(),
    total_count: z.number().nullish()
});

export const ContextObjectSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()]));

export const GetProductsAsyncWorkingSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    percentage: z.number().nullish(),
    current_step: z.string().nullish(),
    total_steps: z.number().nullish(),
    step_number: z.number().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const GetProductsAsyncSubmittedSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    estimated_completion: z.string().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const CreateMediaBuyErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CreateMediaBuyAsyncWorkingSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    percentage: z.number().nullish(),
    current_step: z.string().nullish(),
    total_steps: z.number().nullish(),
    step_number: z.number().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const CreateMediaBuyAsyncInputRequiredSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    reason: z.union([z.literal("APPROVAL_REQUIRED"), z.literal("BUDGET_EXCEEDS_LIMIT")]).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const CreateMediaBuyAsyncSubmittedSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const UpdateMediaBuyErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const UpdateMediaBuyAsyncWorkingSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    percentage: z.number().nullish(),
    current_step: z.string().nullish(),
    total_steps: z.number().nullish(),
    step_number: z.number().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const UpdateMediaBuyAsyncInputRequiredSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    reason: z.union([z.literal("APPROVAL_REQUIRED"), z.literal("CHANGE_CONFIRMATION")]).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const UpdateMediaBuyAsyncSubmittedSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const SyncCreativesSuccessSchema = z.object({
    dry_run: z.boolean().nullish(),
    creatives: z.array(z.object({
        creative_id: z.string(),
        account: AccountSchema.nullish(),
        action: CreativeActionSchema,
        platform_id: z.string().nullish(),
        changes: z.array(z.string()).nullish(),
        errors: z.array(z.string()).nullish(),
        warnings: z.array(z.string()).nullish(),
        preview_url: z.string().nullish(),
        expires_at: z.string().nullish(),
        assigned_to: z.array(z.string()).nullish(),
        assignment_errors: z.record(z.string(), z.string()).nullish()
    })),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncCreativesErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncCreativesAsyncWorkingSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    percentage: z.number().nullish(),
    current_step: z.string().nullish(),
    total_steps: z.number().nullish(),
    step_number: z.number().nullish(),
    creatives_processed: z.number().nullish(),
    creatives_total: z.number().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const SyncCreativesAsyncInputRequiredSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    reason: z.union([z.literal("APPROVAL_REQUIRED"), z.literal("ASSET_CONFIRMATION"), z.literal("FORMAT_CLARIFICATION")]).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const SyncCreativesAsyncSubmittedSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const SyncCatalogsSuccessSchema = z.object({
    dry_run: z.boolean().nullish(),
    catalogs: z.array(z.object({
        catalog_id: z.string(),
        action: CatalogActionSchema,
        platform_id: z.string().nullish(),
        item_count: z.number().nullish(),
        items_approved: z.number().nullish(),
        items_pending: z.number().nullish(),
        items_rejected: z.number().nullish(),
        item_issues: z.array(z.object({
            item_id: z.string(),
            status: CatalogItemStatusSchema,
            reasons: z.array(z.string()).nullish()
        })).nullish(),
        last_synced_at: z.string().nullish(),
        next_fetch_at: z.string().nullish(),
        changes: z.array(z.string()).nullish(),
        errors: z.array(z.string()).nullish(),
        warnings: z.array(z.string()).nullish()
    })),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncCatalogsErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncCatalogsAsyncWorkingSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    percentage: z.number().nullish(),
    current_step: z.string().nullish(),
    total_steps: z.number().nullish(),
    step_number: z.number().nullish(),
    catalogs_processed: z.number().nullish(),
    catalogs_total: z.number().nullish(),
    items_processed: z.number().nullish(),
    items_total: z.number().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const SyncCatalogsAsyncInputRequiredSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    reason: z.union([z.literal("APPROVAL_REQUIRED"), z.literal("FEED_VALIDATION"), z.literal("ITEM_REVIEW"), z.literal("FEED_ACCESS")]).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const SyncCatalogsAsyncSubmittedSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const BrandIDSchema = z.string();

export const FormatCategorySchema = z.union([z.literal("audio"), z.literal("video"), z.literal("display"), z.literal("native"), z.literal("dooh"), z.literal("rich_media"), z.literal("universal")]);

export const GeographicTargetingLevelSchema = z.union([z.literal("country"), z.literal("region"), z.literal("metro"), z.literal("postal_area")]);

export const SignalIDSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        source: z.literal("catalog"),
        data_provider_domain: z.string(),
        id: z.string()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        source: z.literal("agent"),
        agent_url: z.string(),
        id: z.string()
    }))]);

export const BrandReferenceSchema = z.object({
    domain: z.string(),
    brand_id: BrandIDSchema.nullish()
});

export const PaginationRequestSchema = z.object({
    max_results: z.number().nullish(),
    cursor: z.string().nullish()
});

export const MediaBuyFeaturesSchema = z.record(z.string(), z.union([z.boolean(), z.undefined()])).and(z.object({
    inline_creative_management: z.boolean().nullish(),
    property_list_filtering: z.boolean().nullish(),
    content_standards: z.boolean().nullish(),
    conversion_tracking: z.boolean().nullish(),
    audience_targeting: z.boolean().nullish(),
    catalog_management: z.boolean().nullish(),
    sandbox: z.boolean().nullish()
}));

export const SignalTargetingSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        signal_id: SignalIDSchema,
        value_type: z.literal("binary"),
        value: z.boolean()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        signal_id: SignalIDSchema,
        value_type: z.literal("categorical"),
        values: z.array(z.string())
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        signal_id: SignalIDSchema,
        value_type: z.literal("numeric"),
        min_value: z.number().nullish(),
        max_value: z.number().nullish()
    }))]);

export const CPMPricingOptionSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    pricing_option_id: z.string(),
    pricing_model: z.literal("cpm"),
    currency: z.string(),
    fixed_price: z.number().nullish(),
    floor_price: z.number().nullish(),
    max_bid: z.boolean().nullish(),
    price_guidance: PriceGuidanceSchema.nullish(),
    min_spend_per_package: z.number().nullish()
}));

export const PricingOptionSchema = z.union([CPMPricingOptionSchema, VCPMPricingOptionSchema, CPCPricingOptionSchema, CPCVPricingOptionSchema, CPVPricingOptionSchema, CPPPricingOptionSchema, CPAPricingOptionSchema, FlatRatePricingOptionSchema, TimeBasedPricingOptionSchema]);

export const ForecastPointSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    budget: z.number(),
    metrics: z.record(z.string(), z.union([ForecastRangeSchema, z.undefined()]))
}));

export const DeliveryForecastSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    points: z.array(ForecastPointSchema),
    forecast_range_unit: ForecastRangeUnitSchema.nullish(),
    method: ForecastMethodSchema,
    currency: z.string(),
    demographic_system: DemographicSystemSchema.nullish(),
    demographic: z.string().nullish(),
    reach_unit: ReachUnitSchema.nullish(),
    generated_at: z.string().nullish(),
    valid_until: z.string().nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const ProductAllocationSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    product_id: z.string(),
    allocation_percentage: z.number(),
    pricing_option_id: z.string().nullish(),
    rationale: z.string().nullish(),
    sequence: z.number().nullish(),
    tags: z.array(z.string()).nullish(),
    daypart_targets: z.array(DaypartTargetSchema).nullish(),
    forecast: DeliveryForecastSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const AssetContentTypeSchema = z.union([z.literal("image"), z.literal("video"), z.literal("audio"), z.literal("text"), z.literal("markdown"), z.literal("html"), z.literal("css"), z.literal("javascript"), z.literal("vast"), z.literal("daast"), z.literal("url"), z.literal("webhook")]);

export const WCAGLevelSchema = z.union([z.literal("A"), z.literal("AA"), z.literal("AAA")]);

export const ListCreativeFormatsRequestSchema = z.object({
    format_ids: z.array(FormatIDSchema).nullish(),
    type: FormatCategorySchema.nullish(),
    asset_types: z.array(AssetContentTypeSchema).nullish(),
    max_width: z.number().nullish(),
    max_height: z.number().nullish(),
    min_width: z.number().nullish(),
    min_height: z.number().nullish(),
    is_responsive: z.boolean().nullish(),
    name_search: z.string().nullish(),
    wcag_level: WCAGLevelSchema.nullish(),
    output_format_ids: z.array(FormatIDSchema).nullish(),
    input_format_ids: z.array(FormatIDSchema).nullish(),
    pagination: PaginationRequestSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const FormatIDParameterSchema = z.union([z.literal("dimensions"), z.literal("duration")]);

export const UniversalMacroSchema = z.union([z.literal("MEDIA_BUY_ID"), z.literal("PACKAGE_ID"), z.literal("CREATIVE_ID"), z.literal("CACHEBUSTER"), z.literal("TIMESTAMP"), z.literal("CLICK_URL"), z.literal("GDPR"), z.literal("GDPR_CONSENT"), z.literal("US_PRIVACY"), z.literal("GPP_STRING"), z.literal("GPP_SID"), z.literal("IP_ADDRESS"), z.literal("LIMIT_AD_TRACKING"), z.literal("DEVICE_TYPE"), z.literal("OS"), z.literal("OS_VERSION"), z.literal("DEVICE_MAKE"), z.literal("DEVICE_MODEL"), z.literal("USER_AGENT"), z.literal("APP_BUNDLE"), z.literal("APP_NAME"), z.literal("COUNTRY"), z.literal("REGION"), z.literal("CITY"), z.literal("ZIP"), z.literal("DMA"), z.literal("LAT"), z.literal("LONG"), z.literal("DEVICE_ID"), z.literal("DEVICE_ID_TYPE"), z.literal("DOMAIN"), z.literal("PAGE_URL"), z.literal("REFERRER"), z.literal("KEYWORDS"), z.literal("PLACEMENT_ID"), z.literal("FOLD_POSITION"), z.literal("AD_WIDTH"), z.literal("AD_HEIGHT"), z.literal("VIDEO_ID"), z.literal("VIDEO_TITLE"), z.literal("VIDEO_DURATION"), z.literal("VIDEO_CATEGORY"), z.literal("CONTENT_GENRE"), z.literal("CONTENT_RATING"), z.literal("PLAYER_WIDTH"), z.literal("PLAYER_HEIGHT"), z.literal("POD_POSITION"), z.literal("POD_SIZE"), z.literal("AD_BREAK_ID"), z.literal("STATION_ID"), z.literal("SHOW_NAME"), z.literal("EPISODE_ID"), z.literal("AUDIO_DURATION"), z.literal("AXEM"), z.literal("CATALOG_ID"), z.literal("SKU"), z.literal("GTIN"), z.literal("OFFERING_ID"), z.literal("JOB_ID"), z.literal("HOTEL_ID"), z.literal("FLIGHT_ID"), z.literal("VEHICLE_ID"), z.literal("LISTING_ID"), z.literal("STORE_ID"), z.literal("PROGRAM_ID"), z.literal("DESTINATION_ID"), z.literal("CREATIVE_VARIANT_ID"), z.literal("APP_ITEM_ID")]);

export const ImageAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    min_width: z.number().nullish(),
    max_width: z.number().nullish(),
    min_height: z.number().nullish(),
    max_height: z.number().nullish(),
    aspect_ratio: z.string().nullish(),
    formats: z.array(z.union([z.literal("jpg"), z.literal("jpeg"), z.literal("png"), z.literal("gif"), z.literal("webp"), z.literal("svg"), z.literal("avif")])).nullish(),
    max_file_size_kb: z.number().nullish(),
    transparency_required: z.boolean().nullish(),
    animation_allowed: z.boolean().nullish(),
    max_animation_duration_ms: z.number().nullish()
}));

export const VideoAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    min_width: z.number().nullish(),
    max_width: z.number().nullish(),
    min_height: z.number().nullish(),
    max_height: z.number().nullish(),
    aspect_ratio: z.string().nullish(),
    min_duration_ms: z.number().nullish(),
    max_duration_ms: z.number().nullish(),
    containers: z.array(z.union([z.literal("mp4"), z.literal("webm"), z.literal("mov"), z.literal("avi"), z.literal("mkv")])).nullish(),
    codecs: z.array(z.union([z.literal("h264"), z.literal("h265"), z.literal("vp8"), z.literal("vp9"), z.literal("av1")])).nullish(),
    max_file_size_kb: z.number().nullish(),
    min_bitrate_kbps: z.number().nullish(),
    max_bitrate_kbps: z.number().nullish(),
    frame_rates: z.array(z.number()).nullish(),
    audio_required: z.boolean().nullish()
}));

export const AudioAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    min_duration_ms: z.number().nullish(),
    max_duration_ms: z.number().nullish(),
    formats: z.array(z.union([z.literal("mp3"), z.literal("aac"), z.literal("wav"), z.literal("ogg"), z.literal("flac")])).nullish(),
    max_file_size_kb: z.number().nullish(),
    sample_rates: z.array(z.number()).nullish(),
    channels: z.array(z.union([z.literal("mono"), z.literal("stereo")])).nullish(),
    min_bitrate_kbps: z.number().nullish(),
    max_bitrate_kbps: z.number().nullish()
}));

export const TextAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    min_length: z.number().nullish(),
    max_length: z.number().nullish(),
    min_lines: z.number().nullish(),
    max_lines: z.number().nullish(),
    character_pattern: z.string().nullish(),
    prohibited_terms: z.array(z.string()).nullish()
}));

export const MarkdownAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    max_length: z.number().nullish()
}));

export const HTMLAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    max_file_size_kb: z.number().nullish(),
    sandbox: z.union([z.literal("none"), z.literal("iframe"), z.literal("safeframe"), z.literal("fencedframe")]).nullish(),
    external_resources_allowed: z.boolean().nullish(),
    allowed_external_domains: z.array(z.string()).nullish()
}));

export const CSSAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    max_file_size_kb: z.number().nullish()
}));

export const JavaScriptAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    max_file_size_kb: z.number().nullish(),
    module_type: z.union([z.literal("script"), z.literal("module"), z.literal("iife")]).nullish(),
    strict_mode_required: z.boolean().nullish(),
    external_resources_allowed: z.boolean().nullish(),
    allowed_external_domains: z.array(z.string()).nullish()
}));

export const VASTAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    vast_version: z.union([z.literal("2.0"), z.literal("3.0"), z.literal("4.0"), z.literal("4.1"), z.literal("4.2")]).nullish()
}));

export const DAASTAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    daast_version: z.literal("1.0").nullish()
}));

export const URLAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    role: z.union([z.literal("clickthrough"), z.literal("landing_page"), z.literal("impression_tracker"), z.literal("click_tracker"), z.literal("viewability_tracker"), z.literal("third_party_tracker")]).nullish(),
    protocols: z.array(z.union([z.literal("https"), z.literal("http")])).nullish(),
    allowed_domains: z.array(z.string()).nullish(),
    max_length: z.number().nullish(),
    macro_support: z.boolean().nullish()
}));

export const WebhookAssetRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    methods: z.array(z.union([z.literal("GET"), z.literal("POST")])).nullish()
}));

export const CreativeAgentCapabilitySchema = z.union([z.literal("validation"), z.literal("assembly"), z.literal("generation"), z.literal("preview"), z.literal("delivery")]);

export const BaseIndividualAssetSchema = z.object({
    item_type: z.literal("individual"),
    asset_id: z.string(),
    asset_role: z.string().nullish(),
    required: z.boolean()
});

export const BaseGroupAssetSchema = z.object({
    asset_id: z.string(),
    asset_role: z.string().nullish(),
    required: z.boolean()
});

export const AssetRequirementsSchema = z.union([ImageAssetRequirementsSchema, VideoAssetRequirementsSchema, AudioAssetRequirementsSchema, TextAssetRequirementsSchema, MarkdownAssetRequirementsSchema, HTMLAssetRequirementsSchema, CSSAssetRequirementsSchema, JavaScriptAssetRequirementsSchema, VASTAssetRequirementsSchema, DAASTAssetRequirementsSchema, URLAssetRequirementsSchema, WebhookAssetRequirementsSchema]);

export const StartTimingSchema = z.union([z.literal("asap"), z.string()]);

export const AuthenticationSchemeSchema = z.union([z.literal("Bearer"), z.literal("HMAC-SHA256")]);

export const ReportingWebhookSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    token: z.string().nullish(),
    authentication: z.object({
        schemes: z.tuple([AuthenticationSchemeSchema]),
        credentials: z.string()
    }),
    reporting_frequency: z.union([z.literal("hourly"), z.literal("daily"), z.literal("monthly")]),
    requested_metrics: z.array(AvailableMetricSchema).nullish()
}));

export const TargetingOverlaySchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    geo_countries: z.array(z.string()).nullish(),
    geo_countries_exclude: z.array(z.string()).nullish(),
    geo_regions: z.array(z.string()).nullish(),
    geo_regions_exclude: z.array(z.string()).nullish(),
    geo_metros: z.tuple([z.object({
            system: MetroAreaSystemSchema,
            values: z.array(z.string())
        })]).rest(z.object({
        system: MetroAreaSystemSchema,
        values: z.array(z.string())
    })).nullish(),
    geo_metros_exclude: z.tuple([z.object({
            system: MetroAreaSystemSchema,
            values: z.array(z.string())
        })]).rest(z.object({
        system: MetroAreaSystemSchema,
        values: z.array(z.string())
    })).nullish(),
    geo_postal_areas: z.tuple([z.object({
            system: PostalCodeSystemSchema,
            values: z.array(z.string())
        })]).rest(z.object({
        system: PostalCodeSystemSchema,
        values: z.array(z.string())
    })).nullish(),
    geo_postal_areas_exclude: z.tuple([z.object({
            system: PostalCodeSystemSchema,
            values: z.array(z.string())
        })]).rest(z.object({
        system: PostalCodeSystemSchema,
        values: z.array(z.string())
    })).nullish(),
    daypart_targets: z.array(DaypartTargetSchema).nullish(),
    axe_include_segment: z.string().nullish(),
    axe_exclude_segment: z.string().nullish(),
    audience_include: z.array(z.string()).nullish(),
    audience_exclude: z.array(z.string()).nullish(),
    frequency_cap: FrequencyCapSchema.nullish(),
    property_list: PropertyListReferenceSchema.nullish(),
    age_restriction: z.object({
        min: z.number(),
        verification_required: z.boolean().nullish(),
        accepted_methods: z.array(AgeVerificationMethodSchema).nullish()
    }).nullish(),
    device_platform: z.array(DevicePlatformSchema).nullish(),
    store_catchments: z.tuple([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
            catalog_id: z.string(),
            store_ids: z.array(z.string()).nullish(),
            catchment_ids: z.array(z.string()).nullish()
        }))]).rest(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        catalog_id: z.string(),
        store_ids: z.array(z.string()).nullish(),
        catchment_ids: z.array(z.string()).nullish()
    }))).nullish(),
    language: z.array(z.string()).nullish()
}));

export const CreativeAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    creative_id: z.string(),
    name: z.string(),
    format_id: FormatIDSchema,
    catalogs: z.array(CatalogSchema).nullish(),
    assets: z.record(z.string(), z.union([z.unknown(), z.undefined()])),
    inputs: z.array(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        name: z.string(),
        macros: z.record(z.string(), z.union([z.string(), z.undefined()])).nullish(),
        context_description: z.string().nullish()
    }))).nullish(),
    tags: z.array(z.string()).nullish(),
    status: CreativeStatusSchema.nullish(),
    weight: z.number().nullish(),
    placement_ids: z.array(z.string()).nullish()
}));

export const PackageSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    package_id: z.string(),
    buyer_ref: z.string().nullish(),
    product_id: z.string().nullish(),
    budget: z.number().nullish(),
    pacing: PacingSchema.nullish(),
    pricing_option_id: z.string().nullish(),
    bid_price: z.number().nullish(),
    impressions: z.number().nullish(),
    targeting_overlay: TargetingOverlaySchema.nullish(),
    creative_assignments: z.array(CreativeAssignmentSchema).nullish(),
    format_ids_to_provide: z.array(FormatIDSchema).nullish(),
    optimization_goal: OptimizationGoalSchema.nullish(),
    paused: z.boolean().nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const ValidationModeSchema = z.union([z.literal("strict"), z.literal("lenient")]);

export const PushNotificationConfigSchema = z.object({
    url: z.string(),
    token: z.string().nullish(),
    authentication: z.object({
        schemes: z.tuple([AuthenticationSchemeSchema]),
        credentials: z.string()
    })
});

export const SyncCreativesResponseSchema = z.union([SyncCreativesSuccessSchema, SyncCreativesErrorSchema]);

export const CreativeSortFieldSchema = z.union([z.literal("created_date"), z.literal("updated_date"), z.literal("name"), z.literal("status"), z.literal("assignment_count"), z.literal("performance_score")]);

export const SortDirectionSchema = z.union([z.literal("asc"), z.literal("desc")]);

export const CreativeFiltersSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    account_ids: z.array(z.string()).nullish(),
    formats: z.array(z.string()).nullish(),
    statuses: z.array(CreativeStatusSchema).nullish(),
    tags: z.array(z.string()).nullish(),
    tags_any: z.array(z.string()).nullish(),
    name_contains: z.string().nullish(),
    creative_ids: z.array(z.string()).nullish(),
    created_after: z.string().nullish(),
    created_before: z.string().nullish(),
    updated_after: z.string().nullish(),
    updated_before: z.string().nullish(),
    assigned_to_packages: z.array(z.string()).nullish(),
    media_buy_ids: z.array(z.string()).nullish(),
    buyer_refs: z.array(z.string()).nullish(),
    unassigned: z.boolean().nullish(),
    has_performance_data: z.boolean().nullish()
}));

export const SubAssetSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        asset_kind: z.literal("media"),
        asset_type: z.string(),
        asset_id: z.string(),
        content_uri: z.string()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        asset_kind: z.literal("text"),
        asset_type: z.string(),
        asset_id: z.string(),
        content: z.union([z.string(), z.array(z.string())])
    }))]);

export const ListCreativesResponseSchema = z.object({
    query_summary: z.object({
        total_matching: z.number().nullish(),
        returned: z.number().nullish(),
        filters_applied: z.array(z.string()).nullish(),
        sort_applied: z.object({
            field: z.string().nullish(),
            direction: SortDirectionSchema.nullish()
        }).nullish()
    }),
    pagination: PaginationResponseSchema,
    creatives: z.array(z.object({
        creative_id: z.string(),
        account: AccountSchema.nullish(),
        name: z.string(),
        format_id: FormatIDSchema,
        status: CreativeStatusSchema,
        created_date: z.string(),
        updated_date: z.string(),
        catalogs: z.array(CatalogSchema).nullish(),
        assets: z.record(z.string(), z.union([ImageAssetSchema, VideoAssetSchema, AudioAssetSchema, TextAssetSchema, HTMLAssetSchema, CSSAssetSchema, JavaScriptAssetSchema, VASTAssetSchema, DAASTAssetSchema, URLAssetSchema])).nullish(),
        tags: z.array(z.string()).nullish(),
        assignments: z.object({
            assignment_count: z.number(),
            assigned_packages: z.array(z.object({
                package_id: z.string(),
                buyer_ref: z.string().nullish(),
                assigned_date: z.string()
            })).nullish()
        }).nullish(),
        performance: z.object({
            impressions: z.number().nullish(),
            clicks: z.number().nullish(),
            ctr: z.number().nullish(),
            conversion_rate: z.number().nullish(),
            performance_score: z.number().nullish(),
            last_updated: z.string()
        }).nullish(),
        sub_assets: z.array(SubAssetSchema).nullish()
    })),
    format_summary: z.record(z.string(), z.number()).nullish(),
    status_summary: z.object({
        processing: z.number().nullish(),
        approved: z.number().nullish(),
        pending_review: z.number().nullish(),
        rejected: z.number().nullish(),
        archived: z.number().nullish()
    }).nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const PackageUpdateSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    package_id: z.string().nullish(),
    buyer_ref: z.string().nullish(),
    budget: z.number().nullish(),
    pacing: PacingSchema.nullish(),
    bid_price: z.number().nullish(),
    impressions: z.number().nullish(),
    paused: z.boolean().nullish(),
    catalog: CatalogSchema.nullish(),
    optimization_goal: OptimizationGoalSchema.nullish(),
    targeting_overlay: TargetingOverlaySchema.nullish(),
    creative_assignments: z.array(CreativeAssignmentSchema).nullish(),
    creatives: z.array(CreativeAssetSchema).nullish(),
    ext: ExtensionObjectSchema.nullish()
})).and(z.record(z.string(), z.union([z.unknown(), z.undefined()])));

export const UpdateMediaBuySuccessSchema = z.object({
    media_buy_id: z.string(),
    buyer_ref: z.string(),
    implementation_date: z.string().nullish().nullable(),
    affected_packages: z.array(PackageSchema).nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetMediaBuysRequestSchema = z.object({
    account_id: z.string().nullish(),
    media_buy_ids: z.array(z.string()).nullish(),
    buyer_refs: z.array(z.string()).nullish(),
    status_filter: z.union([MediaBuyStatusSchema, z.array(MediaBuyStatusSchema)]).nullish(),
    include_snapshot: z.boolean().nullish(),
    pagination: PaginationRequestSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CreativeApprovalStatusSchema = z.union([z.literal("pending_review"), z.literal("approved"), z.literal("rejected")]);

export const GetMediaBuysResponseSchema = z.object({
    media_buys: z.array(z.object({
        media_buy_id: z.string(),
        buyer_ref: z.string().nullish(),
        buyer_campaign_ref: z.string().nullish(),
        account: AccountSchema.nullish(),
        status: MediaBuyStatusSchema,
        currency: z.string(),
        total_budget: z.number(),
        creative_deadline: z.string().nullish(),
        created_at: z.string().nullish(),
        updated_at: z.string().nullish(),
        packages: z.array(z.object({
            package_id: z.string(),
            buyer_ref: z.string().nullish(),
            product_id: z.string().nullish(),
            budget: z.number().nullish(),
            currency: z.string().nullish(),
            bid_price: z.number().nullish(),
            impressions: z.number().nullish(),
            start_time: z.string().nullish(),
            end_time: z.string().nullish(),
            paused: z.boolean().nullish(),
            creative_approvals: z.array(z.object({
                creative_id: z.string(),
                approval_status: CreativeApprovalStatusSchema,
                rejection_reason: z.string().nullish()
            })).nullish(),
            format_ids_pending: z.array(FormatIDSchema).nullish(),
            snapshot_unavailable_reason: z.union([z.literal("SNAPSHOT_UNSUPPORTED"), z.literal("SNAPSHOT_TEMPORARILY_UNAVAILABLE"), z.literal("SNAPSHOT_PERMISSION_DENIED")]).nullish(),
            snapshot: z.object({
                as_of: z.string(),
                staleness_seconds: z.number(),
                impressions: z.number(),
                spend: z.number(),
                currency: z.string().nullish(),
                clicks: z.number().nullish(),
                pacing_index: z.number().nullish(),
                delivery_status: z.union([z.literal("delivering"), z.literal("not_delivering"), z.literal("completed"), z.literal("budget_exhausted"), z.literal("flight_ended"), z.literal("goal_met")]).nullish(),
                ext: ExtensionObjectSchema.nullish()
            }).nullish(),
            ext: ExtensionObjectSchema.nullish()
        })),
        ext: ExtensionObjectSchema.nullish()
    })),
    errors: z.array(ErrorSchema).nullish(),
    pagination: PaginationResponseSchema.nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetMediaBuyDeliveryRequestSchema = z.object({
    account_id: z.string().nullish(),
    media_buy_ids: z.array(z.string()).nullish(),
    buyer_refs: z.array(z.string()).nullish(),
    status_filter: z.union([MediaBuyStatusSchema, z.array(MediaBuyStatusSchema)]).nullish(),
    start_date: z.string().nullish(),
    end_date: z.string().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const AttributionModelSchema = z.union([z.literal("last_touch"), z.literal("first_touch"), z.literal("linear"), z.literal("time_decay"), z.literal("data_driven")]);

export const PricingModelSchema = z.union([z.literal("cpm"), z.literal("vcpm"), z.literal("cpc"), z.literal("cpcv"), z.literal("cpv"), z.literal("cpp"), z.literal("cpa"), z.literal("flat_rate"), z.literal("time")]);

export const AttributionWindowSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    click_window_days: z.number().nullish(),
    view_window_days: z.number().nullish(),
    model: AttributionModelSchema
}));

export const DeliveryMetricsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    impressions: z.number().nullish(),
    spend: z.number().nullish(),
    clicks: z.number().nullish(),
    ctr: z.number().nullish(),
    views: z.number().nullish(),
    completed_views: z.number().nullish(),
    completion_rate: z.number().nullish(),
    conversions: z.number().nullish(),
    conversion_value: z.number().nullish(),
    roas: z.number().nullish(),
    cost_per_acquisition: z.number().nullish(),
    new_to_brand_rate: z.number().nullish(),
    leads: z.number().nullish(),
    by_event_type: z.array(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        event_type: EventTypeSchema,
        event_source_id: z.string().nullish(),
        count: z.number(),
        value: z.number().nullish()
    }))).nullish(),
    grps: z.number().nullish(),
    reach: z.number().nullish(),
    frequency: z.number().nullish(),
    quartile_data: z.object({
        q1_views: z.number().nullish(),
        q2_views: z.number().nullish(),
        q3_views: z.number().nullish(),
        q4_views: z.number().nullish()
    }).nullish(),
    dooh_metrics: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        loop_plays: z.number().nullish(),
        screens_used: z.number().nullish(),
        screen_time_seconds: z.number().nullish(),
        sov_achieved: z.number().nullish(),
        calculation_notes: z.string().nullish(),
        venue_breakdown: z.array(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
            venue_id: z.string(),
            venue_name: z.string().nullish(),
            venue_type: z.string().nullish(),
            impressions: z.number(),
            loop_plays: z.number().nullish(),
            screens_used: z.number().nullish()
        }))).nullish()
    })).nullish(),
    viewability: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        measurable_impressions: z.number().nullish(),
        viewable_impressions: z.number().nullish(),
        viewable_rate: z.number().nullish(),
        standard: z.union([z.literal("mrc"), z.literal("groupm")]).nullish()
    })).nullish(),
    engagement_rate: z.number().nullish(),
    cost_per_click: z.number().nullish(),
    by_action_source: z.array(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        action_source: ActionSourceSchema,
        event_source_id: z.string().nullish(),
        count: z.number(),
        value: z.number().nullish()
    }))).nullish()
}));

export const MetricTypeSchema = z.union([z.literal("overall_performance"), z.literal("conversion_rate"), z.literal("brand_lift"), z.literal("click_through_rate"), z.literal("completion_rate"), z.literal("viewability"), z.literal("brand_safety"), z.literal("cost_efficiency")]);

export const FeedbackSourceSchema = z.union([z.literal("buyer_attribution"), z.literal("third_party_measurement"), z.literal("platform_analytics"), z.literal("verification_partner")]);

export const ProvidePerformanceFeedbackSuccessSchema = z.object({
    success: z.literal(true),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ProvidePerformanceFeedbackErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncEventSourcesRequestSchema = z.object({
    account_id: z.string(),
    event_sources: z.array(z.object({
        event_source_id: z.string(),
        name: z.string().nullish(),
        event_types: z.array(EventTypeSchema).nullish(),
        allowed_domains: z.array(z.string()).nullish()
    })).nullish(),
    delete_missing: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncEventSourcesSuccessSchema = z.object({
    event_sources: z.array(z.object({
        event_source_id: z.string(),
        name: z.string().nullish(),
        seller_id: z.string().nullish(),
        event_types: z.array(EventTypeSchema).nullish(),
        action_source: ActionSourceSchema.nullish(),
        managed_by: z.union([z.literal("buyer"), z.literal("seller")]).nullish(),
        setup: z.object({
            snippet: z.string().nullish(),
            snippet_type: z.union([z.literal("javascript"), z.literal("html"), z.literal("pixel_url"), z.literal("server_only")]).nullish(),
            instructions: z.string().nullish()
        }).nullish(),
        action: z.union([z.literal("created"), z.literal("updated"), z.literal("unchanged"), z.literal("deleted"), z.literal("failed")]),
        errors: z.array(z.string()).nullish()
    })),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncEventSourcesErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const UIDTypeSchema = z.union([z.literal("rampid"), z.literal("id5"), z.literal("uid2"), z.literal("euid"), z.literal("pairid"), z.literal("external_id"), z.literal("maid"), z.literal("other")]);

export const UserMatchSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    uids: z.tuple([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
            type: UIDTypeSchema,
            value: z.string()
        }))]).rest(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: UIDTypeSchema,
        value: z.string()
    }))).nullish(),
    hashed_email: z.string().nullish(),
    hashed_phone: z.string().nullish(),
    click_id: z.string().nullish(),
    click_id_type: z.string().nullish(),
    client_ip: z.string().nullish(),
    client_user_agent: z.string().nullish(),
    ext: ExtensionObjectSchema.nullish()
})));

export const EventCustomDataSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    value: z.number().nullish(),
    currency: z.string().nullish(),
    order_id: z.string().nullish(),
    content_ids: z.array(z.string()).nullish(),
    content_type: z.string().nullish(),
    content_name: z.string().nullish(),
    content_category: z.string().nullish(),
    num_items: z.number().nullish(),
    search_string: z.string().nullish(),
    contents: z.array(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        id: z.string(),
        quantity: z.number().nullish(),
        price: z.number().nullish(),
        brand: z.string().nullish()
    }))).nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const LogEventSuccessSchema = z.object({
    events_received: z.number(),
    events_processed: z.number(),
    partial_failures: z.array(z.object({
        event_id: z.string(),
        code: z.string(),
        message: z.string()
    })).nullish(),
    warnings: z.array(z.string()).nullish(),
    match_quality: z.number().nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const LogEventErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const AudienceMemberSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    hashed_email: z.string().nullish(),
    hashed_phone: z.string().nullish(),
    uids: z.tuple([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
            type: UIDTypeSchema,
            value: z.string()
        }))]).rest(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: UIDTypeSchema,
        value: z.string()
    }))).nullish(),
    ext: ExtensionObjectSchema.nullish()
})));

export const SyncAudiencesRequestSchema = z.object({
    account_id: z.string(),
    audiences: z.array(z.object({
        audience_id: z.string(),
        name: z.string().nullish(),
        add: z.array(AudienceMemberSchema).nullish(),
        remove: z.array(AudienceMemberSchema).nullish(),
        delete: z.boolean().nullish(),
        consent_basis: z.union([z.literal("consent"), z.literal("legitimate_interest"), z.literal("contract"), z.literal("legal_obligation")]).nullish()
    })).nullish(),
    delete_missing: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncAudiencesSuccessSchema = z.object({
    audiences: z.array(z.object({
        audience_id: z.string(),
        name: z.string().nullish(),
        seller_id: z.string().nullish(),
        action: z.union([z.literal("created"), z.literal("updated"), z.literal("unchanged"), z.literal("deleted"), z.literal("failed")]),
        status: z.union([z.literal("processing"), z.literal("ready"), z.literal("too_small")]).nullish(),
        uploaded_count: z.number().nullish(),
        matched_count: z.number().nullish(),
        last_synced_at: z.string().nullish(),
        minimum_size: z.number().nullish(),
        errors: z.array(ErrorSchema).nullish()
    })),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncAudiencesErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncCatalogsRequestSchema = z.object({
    account_id: z.string().nullish(),
    catalogs: z.array(CatalogSchema).nullish(),
    catalog_ids: z.array(z.string()).nullish(),
    delete_missing: z.boolean().nullish(),
    dry_run: z.boolean().nullish(),
    validation_mode: ValidationModeSchema.nullish(),
    push_notification_config: PushNotificationConfigSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncCatalogsResponseSchema = z.union([SyncCatalogsSuccessSchema, SyncCatalogsErrorSchema]);

export const HTTPMethodSchema = z.union([z.literal("GET"), z.literal("POST")]);

export const WebhookResponseTypeSchema = z.union([z.literal("html"), z.literal("json"), z.literal("xml"), z.literal("javascript")]);

export const WebhookSecurityMethodSchema = z.union([z.literal("hmac_sha256"), z.literal("api_key"), z.literal("none")]);

export const CreativeManifestSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    format_id: FormatIDSchema,
    catalogs: z.array(CatalogSchema).nullish(),
    assets: z.record(z.string(), z.union([z.unknown(), z.undefined()])),
    ext: ExtensionObjectSchema.nullish()
}));

export const WebhookAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    method: HTTPMethodSchema.nullish(),
    timeout_ms: z.number().nullish(),
    supported_macros: z.array(z.union([UniversalMacroSchema, z.string()])).nullish(),
    required_macros: z.array(z.union([UniversalMacroSchema, z.string()])).nullish(),
    response_type: WebhookResponseTypeSchema,
    security: z.object({
        method: WebhookSecurityMethodSchema,
        hmac_header: z.string().nullish(),
        api_key_header: z.string().nullish()
    })
}));

export const ReferenceAssetSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    url: z.string(),
    role: z.union([z.literal("style_reference"), z.literal("product_shot"), z.literal("mood_board"), z.literal("example_creative"), z.literal("logo"), z.literal("strategy_doc")]),
    description: z.string().nullish()
}));

export const BuildCreativeSuccessSchema = z.object({
    creative_manifest: CreativeManifestSchema,
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const BuildCreativeErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const PreviewOutputFormatSchema = z.union([z.literal("url"), z.literal("html")]);

export const CreativeManifest1Schema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    format_id: FormatIDSchema,
    catalogs: z.array(CatalogSchema).nullish(),
    assets: z.record(z.string(), z.union([z.unknown(), z.undefined()])),
    ext: ExtensionObjectSchema.nullish()
}));

export const PreviewRenderSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        render_id: z.string(),
        output_format: z.literal("url"),
        preview_url: z.string(),
        role: z.string(),
        dimensions: z.object({
            width: z.number(),
            height: z.number()
        }).nullish(),
        embedding: z.object({
            recommended_sandbox: z.string().nullish(),
            requires_https: z.boolean().nullish(),
            supports_fullscreen: z.boolean().nullish(),
            csp_policy: z.string().nullish()
        }).nullish()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        render_id: z.string(),
        output_format: z.literal("html"),
        preview_html: z.string(),
        role: z.string(),
        dimensions: z.object({
            width: z.number(),
            height: z.number()
        }).nullish(),
        embedding: z.object({
            recommended_sandbox: z.string().nullish(),
            requires_https: z.boolean().nullish(),
            supports_fullscreen: z.boolean().nullish(),
            csp_policy: z.string().nullish()
        }).nullish()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        render_id: z.string(),
        output_format: z.literal("both"),
        preview_url: z.string(),
        preview_html: z.string(),
        role: z.string(),
        dimensions: z.object({
            width: z.number(),
            height: z.number()
        }).nullish(),
        embedding: z.object({
            recommended_sandbox: z.string().nullish(),
            requires_https: z.boolean().nullish(),
            supports_fullscreen: z.boolean().nullish(),
            csp_policy: z.string().nullish()
        }).nullish()
    }))]);

export const PreviewCreativeSingleResponseSchema = z.object({
    response_type: z.literal("single"),
    previews: z.array(z.object({
        preview_id: z.string(),
        renders: z.array(PreviewRenderSchema),
        input: z.object({
            name: z.string(),
            macros: z.record(z.string(), z.union([z.string(), z.undefined()])).nullish(),
            context_description: z.string().nullish()
        })
    })),
    interactive_url: z.string().nullish(),
    expires_at: z.string(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const PreviewBatchResultSuccessSchema = z.object({
    success: z.literal(true).nullish()
});

export const PreviewBatchResultErrorSchema = z.object({
    success: z.literal(false).nullish()
});

export const PreviewCreativeVariantResponseSchema = z.object({
    response_type: z.literal("variant"),
    variant_id: z.string(),
    creative_id: z.string().nullish(),
    previews: z.array(z.object({
        preview_id: z.string(),
        renders: z.array(PreviewRenderSchema)
    })),
    manifest: CreativeManifestSchema.nullish(),
    expires_at: z.string().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetCreativeDeliveryRequestSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    account_id: z.string().nullish(),
    media_buy_ids: z.array(z.string()).nullish(),
    media_buy_buyer_refs: z.array(z.string()).nullish(),
    creative_ids: z.array(z.string()).nullish(),
    start_date: z.string().nullish(),
    end_date: z.string().nullish(),
    max_variants: z.number().nullish(),
    pagination: z.object({
        limit: z.number().nullish(),
        offset: z.number().nullish()
    }).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const IdentifierSchema = z.object({
    type: PropertyIdentifierTypesSchema,
    value: z.string()
});

export const CreativeVariantSchema = DeliveryMetricsSchema.and(z.object({
    variant_id: z.string(),
    manifest: CreativeManifestSchema.nullish(),
    generation_context: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        context_type: z.string().nullish(),
        artifact: z.object({
            property_id: IdentifierSchema,
            artifact_id: z.string()
        }).nullish(),
        ext: ExtensionObjectSchema.nullish()
    })).nullish()
}));

export const DestinationSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: z.literal("platform"),
        platform: z.string(),
        account: z.string().nullish()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: z.literal("agent"),
        agent_url: z.string(),
        account: z.string().nullish()
    }))]);

export const SignalCatalogTypeSchema = z.union([z.literal("marketplace"), z.literal("custom"), z.literal("owned")]);

export const SignalFiltersSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    catalog_types: z.array(SignalCatalogTypeSchema).nullish(),
    data_providers: z.array(z.string()).nullish(),
    max_cpm: z.number().nullish(),
    min_coverage_percentage: z.number().nullish()
}));

export const SignalValueTypeSchema = z.union([z.literal("binary"), z.literal("categorical"), z.literal("numeric")]);

export const ActivationKeySchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: z.literal("segment_id"),
        segment_id: z.string()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: z.literal("key_value"),
        key: z.string(),
        value: z.string()
    }))]);

export const DeploymentSchema = z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: z.literal("platform"),
        platform: z.string(),
        account: z.string().nullish(),
        is_live: z.boolean(),
        activation_key: ActivationKeySchema.nullish(),
        estimated_activation_duration_minutes: z.number().nullish(),
        deployed_at: z.string().nullish()
    })), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        type: z.literal("agent"),
        agent_url: z.string(),
        account: z.string().nullish(),
        is_live: z.boolean(),
        activation_key: ActivationKeySchema.nullish(),
        estimated_activation_duration_minutes: z.number().nullish(),
        deployed_at: z.string().nullish()
    }))]);

export const ActivateSignalRequestSchema = z.object({
    signal_agent_segment_id: z.string(),
    deployments: z.array(DestinationSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ActivateSignalSuccessSchema = z.object({
    deployments: z.array(DeploymentSchema),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ActivateSignalErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const PublisherTagsSourceSchema = z.object({
    selection_type: z.literal("publisher_tags"),
    publisher_domain: z.string(),
    tags: z.array(PropertyTagSchema)
});

export const PublisherPropertyIDsSourceSchema = z.object({
    selection_type: z.literal("publisher_ids"),
    publisher_domain: z.string(),
    property_ids: z.array(PropertyIDSchema)
});

export const DirectIdentifiersSourceSchema = z.object({
    selection_type: z.literal("identifiers"),
    identifiers: z.array(IdentifierSchema)
});

export const BasePropertySourceSchema = z.union([PublisherTagsSourceSchema, PublisherPropertyIDsSourceSchema, DirectIdentifiersSourceSchema]);

export const FeatureRequirementSchema = z.object({
    feature_id: z.string(),
    min_value: z.number().nullish(),
    max_value: z.number().nullish(),
    allowed_values: z.array(z.unknown()).nullish(),
    if_not_covered: z.union([z.literal("exclude"), z.literal("include")]).nullish()
});

export const PropertyListFiltersSchema = z.object({
    countries_all: z.array(z.string()),
    channels_any: z.array(MediaChannelSchema),
    property_types: z.array(PropertyTypeSchema).nullish(),
    feature_requirements: z.array(FeatureRequirementSchema).nullish(),
    exclude_identifiers: z.array(IdentifierSchema).nullish()
});

export const UpdatePropertyListRequestSchema = z.object({
    list_id: z.string(),
    name: z.string().nullish(),
    description: z.string().nullish(),
    base_properties: z.array(BasePropertySourceSchema).nullish(),
    filters: PropertyListFiltersSchema.nullish(),
    brand: BrandReferenceSchema.nullish(),
    webhook_url: z.string().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const PropertyListSchema = z.object({
    list_id: z.string(),
    name: z.string(),
    description: z.string().nullish(),
    principal: z.string().nullish(),
    base_properties: z.array(BasePropertySourceSchema).nullish(),
    filters: PropertyListFiltersSchema.nullish(),
    brand: BrandReferenceSchema.nullish(),
    webhook_url: z.string().nullish(),
    cache_duration_hours: z.number().nullish(),
    created_at: z.string().nullish(),
    updated_at: z.string().nullish(),
    property_count: z.number().nullish()
});

export const GetPropertyListRequestSchema = z.object({
    list_id: z.string(),
    resolve: z.boolean().nullish(),
    pagination: z.object({
        max_results: z.number().nullish(),
        cursor: z.string().nullish()
    }).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetPropertyListResponseSchema = z.object({
    list: PropertyListSchema,
    identifiers: z.array(IdentifierSchema).nullish(),
    pagination: PaginationResponseSchema.nullish(),
    resolved_at: z.string().nullish(),
    cache_valid_until: z.string().nullish(),
    coverage_gaps: z.record(z.string(), z.union([z.array(IdentifierSchema), z.undefined()])).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ListPropertyListsRequestSchema = z.object({
    principal: z.string().nullish(),
    name_contains: z.string().nullish(),
    pagination: PaginationRequestSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ListPropertyListsResponseSchema = z.object({
    lists: z.array(PropertyListSchema),
    pagination: PaginationResponseSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const DeletePropertyListRequestSchema = z.object({
    list_id: z.string(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const DeletePropertyListResponseSchema = z.object({
    deleted: z.boolean(),
    list_id: z.string(),
    ext: ExtensionObjectSchema.nullish()
});

export const ListContentStandardsRequestSchema = z.object({
    channels: z.array(MediaChannelSchema).nullish(),
    languages: z.array(z.string()).nullish(),
    countries: z.array(z.string()).nullish(),
    pagination: PaginationRequestSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const AssetAccessSchema = z.union([z.object({
        method: z.literal("bearer_token"),
        token: z.string()
    }), z.object({
        method: z.literal("service_account"),
        provider: z.union([z.literal("gcp"), z.literal("aws")]),
        credentials: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
    }), z.object({
        method: z.literal("signed_url")
    })]);

export const ArtifactSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    property_id: IdentifierSchema,
    artifact_id: z.string(),
    variant_id: z.string().nullish(),
    format_id: FormatIDSchema.nullish(),
    url: z.string().nullish(),
    published_time: z.string().nullish(),
    last_update_time: z.string().nullish(),
    assets: z.array(z.union([z.object({
            type: z.literal("text"),
            role: z.union([z.literal("title"), z.literal("paragraph"), z.literal("heading"), z.literal("caption"), z.literal("quote"), z.literal("list_item"), z.literal("description")]).nullish(),
            content: z.string(),
            language: z.string().nullish(),
            heading_level: z.number().nullish()
        }), z.object({
            type: z.literal("image"),
            url: z.string(),
            access: AssetAccessSchema.nullish(),
            alt_text: z.string().nullish(),
            caption: z.string().nullish(),
            width: z.number().nullish(),
            height: z.number().nullish()
        }), z.object({
            type: z.literal("video"),
            url: z.string(),
            access: AssetAccessSchema.nullish(),
            duration_ms: z.number().nullish(),
            transcript: z.string().nullish(),
            transcript_source: z.union([z.literal("original_script"), z.literal("subtitles"), z.literal("closed_captions"), z.literal("dub"), z.literal("generated")]).nullish(),
            thumbnail_url: z.string().nullish()
        }), z.object({
            type: z.literal("audio"),
            url: z.string(),
            access: AssetAccessSchema.nullish(),
            duration_ms: z.number().nullish(),
            transcript: z.string().nullish(),
            transcript_source: z.union([z.literal("original_script"), z.literal("closed_captions"), z.literal("generated")]).nullish()
        })])),
    metadata: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        canonical: z.string().nullish(),
        author: z.string().nullish(),
        keywords: z.string().nullish(),
        open_graph: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        twitter_card: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        json_ld: z.array(z.object({})).nullish()
    })).nullish(),
    identifiers: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        apple_podcast_id: z.string().nullish(),
        spotify_show_id: z.string().nullish(),
        podcast_guid: z.string().nullish(),
        youtube_video_id: z.string().nullish(),
        rss_url: z.string().nullish()
    })).nullish()
}));

export const GetContentStandardsRequestSchema = z.object({
    standards_id: z.string(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ContentStandardsSchema = z.object({
    standards_id: z.string(),
    name: z.string().nullish(),
    countries_all: z.array(z.string()).nullish(),
    channels_any: z.array(MediaChannelSchema).nullish(),
    languages_any: z.array(z.string()).nullish(),
    policy: z.string().nullish(),
    calibration_exemplars: z.object({
        pass: z.array(ArtifactSchema).nullish(),
        fail: z.array(ArtifactSchema).nullish()
    }).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CreateContentStandardsRequestSchema = z.object({
    scope: z.object({
        countries_all: z.array(z.string()).nullish(),
        channels_any: z.array(MediaChannelSchema).nullish(),
        languages_any: z.array(z.string()),
        description: z.string().nullish()
    }),
    policy: z.string(),
    calibration_exemplars: z.object({
        pass: z.array(z.union([z.object({
                type: z.literal("url"),
                value: z.string(),
                language: z.string().nullish()
            }), ArtifactSchema])).nullish(),
        fail: z.array(z.union([z.object({
                type: z.literal("url"),
                value: z.string(),
                language: z.string().nullish()
            }), ArtifactSchema])).nullish()
    }).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CreateContentStandardsResponseSchema = z.union([z.object({
        standards_id: z.string(),
        errors: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        errors: z.array(ErrorSchema),
        conflicting_standards_id: z.string().nullish(),
        standards_id: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const UpdateContentStandardsRequestSchema = z.object({
    standards_id: z.string(),
    scope: z.object({
        countries_all: z.array(z.string()).nullish(),
        channels_any: z.array(MediaChannelSchema).nullish(),
        languages_any: z.array(z.string()).nullish(),
        description: z.string().nullish()
    }).nullish(),
    policy: z.string().nullish(),
    calibration_exemplars: z.object({
        pass: z.array(z.union([z.object({
                type: z.literal("url"),
                value: z.string(),
                language: z.string().nullish()
            }), ArtifactSchema])).nullish(),
        fail: z.array(z.union([z.object({
                type: z.literal("url"),
                value: z.string(),
                language: z.string().nullish()
            }), ArtifactSchema])).nullish()
    }).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const UpdateContentStandardsResponseSchema = z.object({
    standards_id: z.string().nullish(),
    errors: z.array(ErrorSchema).nullish(),
    conflicting_standards_id: z.string().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CalibrateContentRequestSchema = z.object({
    standards_id: z.string(),
    artifact: ArtifactSchema
});

export const CalibrateContentResponseSchema = z.union([z.object({
        verdict: z.union([z.literal("pass"), z.literal("fail")]),
        confidence: z.number().nullish(),
        explanation: z.string().nullish(),
        features: z.array(z.object({
            feature_id: z.string(),
            status: z.union([z.literal("passed"), z.literal("failed"), z.literal("warning"), z.literal("unevaluated")]),
            explanation: z.string().nullish()
        })).nullish(),
        errors: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
    }), z.object({
        errors: z.array(ErrorSchema),
        verdict: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
    })]);

export const ValidateContentDeliveryRequestSchema = z.object({
    standards_id: z.string(),
    records: z.array(z.object({
        record_id: z.string(),
        media_buy_id: z.string().nullish(),
        timestamp: z.string().nullish(),
        artifact: ArtifactSchema,
        country: z.string().nullish(),
        channel: z.string().nullish(),
        brand_context: z.object({
            brand_id: z.string().nullish(),
            sku_id: z.string().nullish()
        }).nullish()
    })),
    feature_ids: z.array(z.string()).nullish(),
    include_passed: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ValidateContentDeliveryResponseSchema = z.union([z.object({
        summary: z.object({
            total_records: z.number(),
            passed_records: z.number(),
            failed_records: z.number()
        }),
        results: z.array(z.object({
            record_id: z.string(),
            verdict: z.union([z.literal("pass"), z.literal("fail")]),
            features: z.array(z.object({
                feature_id: z.string(),
                status: z.union([z.literal("passed"), z.literal("failed"), z.literal("warning"), z.literal("unevaluated")]),
                value: z.unknown().nullish(),
                message: z.string().nullish(),
                rule_id: z.string().nullish()
            })).nullish()
        })),
        errors: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        errors: z.array(ErrorSchema),
        summary: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const GetMediaBuyArtifactsRequestSchema = z.object({
    account_id: z.string().nullish(),
    media_buy_id: z.string(),
    package_ids: z.array(z.string()).nullish(),
    sampling: z.object({
        rate: z.number().nullish(),
        method: z.union([z.literal("random"), z.literal("stratified"), z.literal("recent"), z.literal("failures_only")]).nullish()
    }).nullish(),
    time_range: z.object({
        start: z.string().nullish(),
        end: z.string().nullish()
    }).nullish(),
    pagination: z.object({
        max_results: z.number().nullish(),
        cursor: z.string().nullish()
    }).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetMediaBuyArtifactsResponseSchema = z.union([z.object({
        media_buy_id: z.string(),
        artifacts: z.array(z.object({
            record_id: z.string(),
            timestamp: z.string().nullish(),
            package_id: z.string().nullish(),
            artifact: ArtifactSchema,
            country: z.string().nullish(),
            channel: z.string().nullish(),
            brand_context: z.object({
                brand_id: z.string().nullish(),
                sku_id: z.string().nullish()
            }).nullish(),
            local_verdict: z.union([z.literal("pass"), z.literal("fail"), z.literal("unevaluated")]).nullish()
        })),
        sampling_info: z.object({
            total_deliveries: z.number().nullish(),
            sampled_count: z.number().nullish(),
            effective_rate: z.number().nullish(),
            method: z.union([z.literal("random"), z.literal("stratified"), z.literal("recent"), z.literal("failures_only")]).nullish()
        }).nullish(),
        pagination: PaginationResponseSchema.nullish(),
        errors: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        errors: z.array(ErrorSchema),
        media_buy_id: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const GetCreativeFeaturesRequestSchema = z.object({
    creative_manifest: CreativeManifestSchema,
    feature_ids: z.array(z.string()).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CreativeFeatureResultSchema = z.object({
    feature_id: z.string(),
    value: z.union([z.boolean(), z.number(), z.string()]),
    unit: z.string().nullish(),
    confidence: z.number().nullish(),
    measured_at: z.string().nullish(),
    expires_at: z.string().nullish(),
    methodology_version: z.string().nullish(),
    details: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SIGetOfferingRequestSchema = z.object({
    offering_id: z.string(),
    context: z.string().nullish(),
    include_products: z.boolean().nullish(),
    product_limit: z.number().nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SIGetOfferingResponseSchema = z.object({
    available: z.boolean(),
    offering_token: z.string().nullish(),
    ttl_seconds: z.number().nullish(),
    checked_at: z.string().nullish(),
    offering: z.object({
        offering_id: z.string().nullish(),
        title: z.string().nullish(),
        summary: z.string().nullish(),
        tagline: z.string().nullish(),
        expires_at: z.string().nullish(),
        price_hint: z.string().nullish(),
        image_url: z.string().nullish(),
        landing_url: z.string().nullish()
    }).nullish(),
    matching_products: z.array(z.object({
        product_id: z.string(),
        name: z.string(),
        price: z.string().nullish(),
        original_price: z.string().nullish(),
        image_url: z.string().nullish(),
        availability_summary: z.string().nullish(),
        url: z.string().nullish()
    })).nullish(),
    total_matching: z.number().nullish(),
    unavailable_reason: z.string().nullish(),
    alternative_offering_ids: z.array(z.string()).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SIIdentitySchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    consent_granted: z.boolean(),
    consent_timestamp: z.string().nullish(),
    consent_scope: z.array(z.union([z.literal("name"), z.literal("email"), z.literal("shipping_address"), z.literal("phone"), z.literal("locale")])).nullish(),
    privacy_policy_acknowledged: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        brand_policy_url: z.string().nullish(),
        brand_policy_version: z.string().nullish()
    })).nullish(),
    user: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        email: z.string().nullish(),
        name: z.string().nullish(),
        locale: z.string().nullish(),
        phone: z.string().nullish(),
        shipping_address: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
            street: z.string().nullish(),
            city: z.string().nullish(),
            state: z.string().nullish(),
            postal_code: z.string().nullish(),
            country: z.string().nullish()
        })).nullish()
    })).nullish(),
    anonymous_session_id: z.string().nullish()
}));

export const SICapabilitiesSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    modalities: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        conversational: z.boolean().nullish(),
        voice: z.union([z.boolean(), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
                provider: z.string().nullish(),
                voice_id: z.string().nullish()
            }))]).nullish(),
        video: z.union([z.boolean(), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
                formats: z.array(z.string()).nullish(),
                max_duration_seconds: z.number().nullish()
            }))]).nullish(),
        avatar: z.union([z.boolean(), z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
                provider: z.string().nullish(),
                avatar_id: z.string().nullish()
            }))]).nullish()
    })).nullish(),
    components: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        standard: z.array(z.union([z.literal("text"), z.literal("link"), z.literal("image"), z.literal("product_card"), z.literal("carousel"), z.literal("action_button")])).nullish(),
        extensions: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
    })).nullish(),
    commerce: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        acp_checkout: z.boolean().nullish()
    })).nullish(),
    a2ui: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        supported: z.boolean().nullish(),
        catalogs: z.array(z.string()).nullish()
    })).nullish(),
    mcp_apps: z.boolean().nullish()
}));

export const SIUIElementSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    type: z.union([z.literal("text"), z.literal("link"), z.literal("image"), z.literal("product_card"), z.literal("carousel"), z.literal("action_button"), z.literal("app_handoff"), z.literal("integration_actions")]),
    data: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
})));

export const SIInitiateSessionResponseSchema = z.object({
    session_id: z.string(),
    response: z.object({
        message: z.string().nullish(),
        ui_elements: z.array(SIUIElementSchema).nullish()
    }).nullish(),
    negotiated_capabilities: SICapabilitiesSchema.nullish(),
    errors: z.array(ErrorSchema).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SISendMessageRequestSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    session_id: z.string(),
    message: z.string().nullish(),
    action_response: z.object({
        action: z.string().nullish(),
        payload: z.object({}).nullish()
    }).nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const A2UIComponentSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    id: z.string(),
    parentId: z.string().nullish(),
    component: z.record(z.string(), z.union([z.object({}), z.undefined()]))
}));

export const SITerminateSessionRequestSchema = z.object({
    session_id: z.string(),
    reason: z.union([z.literal("handoff_transaction"), z.literal("handoff_complete"), z.literal("user_exit"), z.literal("session_timeout"), z.literal("host_terminated")]),
    termination_context: z.object({
        summary: z.string().nullish(),
        transaction_intent: z.object({
            action: z.union([z.literal("purchase"), z.literal("subscribe")]).nullish(),
            product: z.object({}).nullish()
        }).nullish(),
        cause: z.string().nullish()
    }).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SITerminateSessionResponseSchema = z.object({
    session_id: z.string(),
    terminated: z.boolean(),
    acp_handoff: z.object({
        checkout_url: z.string().nullish(),
        checkout_token: z.string().nullish(),
        product: z.object({}).nullish()
    }).nullish(),
    follow_up: z.object({
        action: z.union([z.literal("save_for_later"), z.literal("set_reminder"), z.literal("subscribe_updates"), z.literal("none")]).nullish(),
        data: z.object({}).nullish()
    }).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetAdCPCapabilitiesRequestSchema = z.object({
    protocols: z.array(z.union([z.literal("media_buy"), z.literal("signals"), z.literal("governance"), z.literal("sponsored_intelligence"), z.literal("creative")])).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetAdCPCapabilitiesResponseSchema = z.object({
    adcp: z.object({
        major_versions: z.array(z.number())
    }),
    supported_protocols: z.array(z.union([z.literal("media_buy"), z.literal("signals"), z.literal("governance"), z.literal("sponsored_intelligence"), z.literal("creative")])),
    account: z.object({
        require_operator_auth: z.boolean().nullish(),
        authorization_endpoint: z.string().nullish(),
        supported_billing: z.array(z.union([z.literal("brand"), z.literal("operator"), z.literal("agent")])),
        default_billing: z.union([z.literal("brand"), z.literal("operator"), z.literal("agent")]).nullish(),
        required_for_products: z.boolean().nullish()
    }).nullish(),
    media_buy: z.object({
        features: MediaBuyFeaturesSchema.nullish(),
        execution: z.object({
            axe_integrations: z.array(z.string()).nullish(),
            creative_specs: z.object({
                vast_versions: z.array(z.string()).nullish(),
                mraid_versions: z.array(z.string()).nullish(),
                vpaid: z.boolean().nullish(),
                simid: z.boolean().nullish()
            }).nullish(),
            targeting: z.object({
                geo_countries: z.boolean().nullish(),
                geo_regions: z.boolean().nullish(),
                geo_metros: z.object({
                    nielsen_dma: z.boolean().nullish(),
                    uk_itl1: z.boolean().nullish(),
                    uk_itl2: z.boolean().nullish(),
                    eurostat_nuts2: z.boolean().nullish()
                }).nullish(),
                geo_postal_areas: z.object({
                    us_zip: z.boolean().nullish(),
                    us_zip_plus_four: z.boolean().nullish(),
                    gb_outward: z.boolean().nullish(),
                    gb_full: z.boolean().nullish(),
                    ca_fsa: z.boolean().nullish(),
                    ca_full: z.boolean().nullish(),
                    de_plz: z.boolean().nullish(),
                    fr_code_postal: z.boolean().nullish(),
                    au_postcode: z.boolean().nullish()
                }).nullish(),
                age_restriction: z.object({
                    supported: z.boolean().nullish(),
                    verification_methods: z.array(AgeVerificationMethodSchema).nullish()
                }).nullish(),
                device_platform: z.boolean().nullish(),
                language: z.boolean().nullish(),
                audience_include: z.boolean().nullish(),
                audience_exclude: z.boolean().nullish()
            }).nullish()
        }).nullish(),
        audience_targeting: z.object({
            supported_identifier_types: z.array(z.union([z.literal("hashed_email"), z.literal("hashed_phone")])),
            supported_uid_types: z.array(UIDTypeSchema).nullish(),
            minimum_audience_size: z.number(),
            matching_latency_hours: z.object({
                min: z.number().nullish(),
                max: z.number().nullish()
            }).nullish()
        }).nullish(),
        conversion_tracking: z.object({
            supported_event_types: z.array(EventTypeSchema).nullish(),
            supported_uid_types: z.array(UIDTypeSchema).nullish(),
            supported_hashed_identifiers: z.array(z.union([z.literal("hashed_email"), z.literal("hashed_phone")])).nullish(),
            supported_action_sources: z.array(ActionSourceSchema).nullish(),
            attribution_windows: z.array(z.object({
                event_type: EventTypeSchema.nullish(),
                click_through: z.array(z.string()),
                view_through: z.array(z.string()).nullish()
            })).nullish()
        }).nullish(),
        portfolio: z.object({
            publisher_domains: z.array(z.string()),
            primary_channels: z.array(MediaChannelSchema).nullish(),
            primary_countries: z.array(z.string()).nullish(),
            description: z.string().nullish(),
            advertising_policies: z.string().nullish()
        }).nullish()
    }).nullish(),
    signals: z.object({
        data_provider_domains: z.array(z.string()).nullish(),
        features: z.record(z.string(), z.union([z.boolean(), z.undefined()])).and(z.object({
            catalog_signals: z.boolean().nullish()
        })).nullish()
    }).nullish(),
    governance: z.object({
        property_features: z.array(z.object({
            feature_id: z.string(),
            type: z.union([z.literal("binary"), z.literal("quantitative"), z.literal("categorical")]),
            range: z.object({
                min: z.number(),
                max: z.number()
            }).nullish(),
            categories: z.array(z.string()).nullish(),
            description: z.string().nullish(),
            methodology_url: z.string().nullish()
        })).nullish(),
        creative_features: z.array(z.object({
            feature_id: z.string(),
            type: z.union([z.literal("binary"), z.literal("quantitative"), z.literal("categorical")]),
            range: z.object({
                min: z.number(),
                max: z.number()
            }).nullish(),
            categories: z.array(z.string()).nullish(),
            description: z.string().nullish(),
            methodology_url: z.string().nullish()
        })).nullish()
    }).nullish(),
    sponsored_intelligence: z.object({
        endpoint: z.object({
            transports: z.array(z.object({
                type: z.union([z.literal("mcp"), z.literal("a2a")]),
                url: z.string()
            })),
            preferred: z.union([z.literal("mcp"), z.literal("a2a")]).nullish()
        }),
        capabilities: SICapabilitiesSchema,
        brand_url: z.string().nullish()
    }).nullish(),
    creative: z.object({
        supports_brief: z.boolean().nullish()
    }).nullish(),
    extensions_supported: z.array(z.string()).nullish(),
    last_updated: z.string().nullish(),
    errors: z.array(ErrorSchema).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ListAccountsRequestSchema = z.object({
    status: z.union([z.literal("active"), z.literal("pending_approval"), z.literal("payment_required"), z.literal("suspended"), z.literal("closed")]).nullish(),
    pagination: PaginationRequestSchema.nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ListAccountsResponseSchema = z.object({
    accounts: z.array(AccountSchema),
    errors: z.array(ErrorSchema).nullish(),
    pagination: PaginationResponseSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncAccountsRequestSchema = z.object({
    accounts: z.array(z.object({
        house: z.string(),
        brand_id: z.string().nullish(),
        operator: z.string().nullish(),
        billing: z.union([z.literal("brand"), z.literal("operator"), z.literal("agent")]).nullish(),
        sandbox: z.boolean().nullish()
    })),
    delete_missing: z.boolean().nullish(),
    dry_run: z.boolean().nullish(),
    push_notification_config: PushNotificationConfigSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncAccountsSuccessSchema = z.object({
    dry_run: z.boolean().nullish(),
    accounts: z.array(z.object({
        account_id: z.string().nullish(),
        house: z.string(),
        brand_id: z.string().nullish(),
        operator: z.string().nullish(),
        name: z.string().nullish(),
        action: z.union([z.literal("created"), z.literal("updated"), z.literal("unchanged"), z.literal("failed")]),
        status: z.union([z.literal("active"), z.literal("pending_approval"), z.literal("payment_required"), z.literal("suspended"), z.literal("closed")]),
        billing: z.union([z.literal("brand"), z.literal("operator"), z.literal("agent")]).nullish(),
        parent_account_id: z.string().nullish(),
        setup: z.object({
            url: z.string().nullish(),
            message: z.string(),
            expires_at: z.string().nullish()
        }).nullish(),
        rate_card: z.string().nullish(),
        payment_terms: z.string().nullish(),
        credit_limit: z.object({
            amount: z.number(),
            currency: z.string()
        }).nullish(),
        errors: z.array(ErrorSchema).nullish(),
        warnings: z.array(z.string()).nullish(),
        sandbox: z.boolean().nullish()
    })),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const SyncAccountsErrorSchema = z.object({
    errors: z.array(ErrorSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const MediaBuySchema = z.object({
    media_buy_id: z.string(),
    buyer_ref: z.string().nullish(),
    buyer_campaign_ref: z.string().nullish(),
    account: AccountSchema.nullish(),
    status: MediaBuyStatusSchema,
    total_budget: z.number(),
    packages: z.array(PackageSchema),
    creative_deadline: z.string().nullish(),
    created_at: z.string().nullish(),
    updated_at: z.string().nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ProductSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    product_id: z.string(),
    name: z.string(),
    description: z.string(),
    publisher_properties: z.array(PublisherPropertySelectorSchema),
    channels: z.array(MediaChannelSchema).nullish(),
    format_ids: z.array(FormatIDSchema),
    placements: z.array(PlacementSchema).nullish(),
    delivery_type: DeliveryTypeSchema,
    pricing_options: z.array(PricingOptionSchema),
    forecast: DeliveryForecastSchema.nullish(),
    measurement: MeasurementSchema.nullish(),
    delivery_measurement: z.object({
        provider: z.string(),
        notes: z.string().nullish()
    }),
    reporting_capabilities: ReportingCapabilitiesSchema.nullish(),
    creative_policy: CreativePolicySchema.nullish(),
    is_custom: z.boolean().nullish(),
    property_targeting_allowed: z.boolean().nullish(),
    data_provider_signals: z.array(DataProviderSignalSelectorSchema).nullish(),
    signal_targeting_allowed: z.boolean().nullish(),
    catalog_types: z.array(CatalogTypeSchema).nullish(),
    conversion_tracking: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        action_sources: z.array(ActionSourceSchema).nullish(),
        supported_optimization_strategies: z.tuple([z.union([z.literal("maximize_conversions"), z.literal("target_cpa"), z.literal("target_roas")])]).rest(z.union([z.literal("maximize_conversions"), z.literal("target_cpa"), z.literal("target_roas")])).nullish(),
        platform_managed: z.boolean().nullish()
    })).nullish(),
    catalog_match: z.object({
        matched_gtins: z.array(z.string()).nullish(),
        matched_ids: z.array(z.string()).nullish(),
        matched_count: z.number().nullish(),
        submitted_count: z.number()
    }).nullish(),
    brief_relevance: z.string().nullish(),
    expires_at: z.string().nullish(),
    product_card: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        format_id: FormatIDSchema,
        manifest: z.record(z.string(), z.union([z.unknown(), z.undefined()]))
    })).nullish(),
    product_card_detailed: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        format_id: FormatIDSchema,
        manifest: z.record(z.string(), z.union([z.unknown(), z.undefined()]))
    })).nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const GetProductsAsyncInputRequiredSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    reason: z.union([z.literal("CLARIFICATION_NEEDED"), z.literal("BUDGET_REQUIRED")]).nullish(),
    partial_results: z.array(ProductSchema).nullish(),
    suggestions: z.array(z.string()).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const UpdateMediaBuyResponseSchema = z.union([UpdateMediaBuySuccessSchema, UpdateMediaBuyErrorSchema]);

export const CreateMediaBuySuccessSchema = z.object({
    media_buy_id: z.string(),
    buyer_ref: z.string(),
    buyer_campaign_ref: z.string().nullish(),
    account: AccountSchema.nullish(),
    creative_deadline: z.string().nullish(),
    packages: z.array(PackageSchema),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ProposalSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    proposal_id: z.string(),
    name: z.string(),
    description: z.string().nullish(),
    allocations: z.array(ProductAllocationSchema),
    expires_at: z.string().nullish(),
    total_budget_guidance: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        min: z.number().nullish(),
        recommended: z.number().nullish(),
        max: z.number().nullish(),
        currency: z.string().nullish()
    })).nullish(),
    brief_alignment: z.string().nullish(),
    forecast: DeliveryForecastSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const ProductFiltersSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    delivery_type: DeliveryTypeSchema.nullish(),
    is_fixed_price: z.boolean().nullish(),
    format_types: z.array(FormatCategorySchema).nullish(),
    format_ids: z.array(FormatIDSchema).nullish(),
    standard_formats_only: z.boolean().nullish(),
    min_exposures: z.number().nullish(),
    start_date: z.string().nullish(),
    end_date: z.string().nullish(),
    budget_range: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
    countries: z.array(z.string()).nullish(),
    regions: z.array(z.string()).nullish(),
    metros: z.tuple([z.object({
            system: MetroAreaSystemSchema,
            code: z.string()
        })]).rest(z.object({
        system: MetroAreaSystemSchema,
        code: z.string()
    })).nullish(),
    channels: z.array(MediaChannelSchema).nullish(),
    required_axe_integrations: z.array(z.string()).nullish(),
    required_features: MediaBuyFeaturesSchema.nullish(),
    required_geo_targeting: z.tuple([z.object({
            level: GeographicTargetingLevelSchema,
            system: z.string().nullish()
        })]).rest(z.object({
        level: GeographicTargetingLevelSchema,
        system: z.string().nullish()
    })).nullish(),
    signal_targeting: z.array(SignalTargetingSchema).nullish()
}));

export const GetProductsResponseSchema = z.object({
    products: z.array(ProductSchema),
    proposals: z.array(ProposalSchema).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    property_list_applied: z.boolean().nullish(),
    catalog_applied: z.boolean().nullish(),
    pagination: PaginationResponseSchema.nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const OfferingAssetConstraintSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    asset_group_id: z.string(),
    asset_type: AssetContentTypeSchema,
    required: z.boolean().nullish(),
    min_count: z.number().nullish(),
    max_count: z.number().nullish(),
    asset_requirements: AssetRequirementsSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const PackageRequestSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    buyer_ref: z.string(),
    product_id: z.string(),
    format_ids: z.array(FormatIDSchema).nullish(),
    budget: z.number(),
    pacing: PacingSchema.nullish(),
    pricing_option_id: z.string(),
    bid_price: z.number().nullish(),
    impressions: z.number().nullish(),
    paused: z.boolean().nullish(),
    catalog: CatalogSchema.nullish(),
    optimization_goal: OptimizationGoalSchema.nullish(),
    targeting_overlay: TargetingOverlaySchema.nullish(),
    creative_assignments: z.array(CreativeAssignmentSchema).nullish(),
    creatives: z.array(CreativeAssetSchema).nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const CreateMediaBuyResponseSchema = z.union([CreateMediaBuySuccessSchema, CreateMediaBuyErrorSchema]);

export const SyncCreativesRequestSchema = z.object({
    account_id: z.string().nullish(),
    creatives: z.array(CreativeAssetSchema),
    creative_ids: z.array(z.string()).nullish(),
    assignments: z.record(z.string(), z.array(z.string())).nullish(),
    delete_missing: z.boolean().nullish(),
    dry_run: z.boolean().nullish(),
    validation_mode: ValidationModeSchema.nullish(),
    push_notification_config: PushNotificationConfigSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ListCreativesRequestSchema = z.object({
    filters: CreativeFiltersSchema.nullish(),
    sort: z.object({
        field: CreativeSortFieldSchema.nullish(),
        direction: SortDirectionSchema.nullish()
    }).nullish(),
    pagination: PaginationRequestSchema.nullish(),
    include_assignments: z.boolean().nullish(),
    include_performance: z.boolean().nullish(),
    include_sub_assets: z.boolean().nullish(),
    fields: z.array(z.union([z.literal("creative_id"), z.literal("name"), z.literal("format"), z.literal("status"), z.literal("created_date"), z.literal("updated_date"), z.literal("tags"), z.literal("assignments"), z.literal("performance"), z.literal("sub_assets")])).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const UpdateMediaBuyRequestSchema = z.object({
    media_buy_id: z.string().nullish(),
    buyer_ref: z.string().nullish(),
    paused: z.boolean().nullish(),
    start_time: StartTimingSchema.nullish(),
    end_time: z.string().nullish(),
    packages: z.array(PackageUpdateSchema).nullish(),
    reporting_webhook: ReportingWebhookSchema.nullish(),
    push_notification_config: PushNotificationConfigSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}).and(z.record(z.string(), z.union([z.unknown(), z.undefined()])));

export const GetMediaBuyDeliveryResponseSchema = z.object({
    notification_type: z.union([z.literal("scheduled"), z.literal("final"), z.literal("delayed"), z.literal("adjusted")]).nullish(),
    partial_data: z.boolean().nullish(),
    unavailable_count: z.number().nullish(),
    sequence_number: z.number().nullish(),
    next_expected_at: z.string().nullish(),
    reporting_period: z.object({
        start: z.string(),
        end: z.string()
    }),
    currency: z.string(),
    attribution_window: AttributionWindowSchema.nullish(),
    aggregated_totals: z.object({
        impressions: z.number(),
        spend: z.number(),
        clicks: z.number().nullish(),
        video_completions: z.number().nullish(),
        conversions: z.number().nullish(),
        conversion_value: z.number().nullish(),
        roas: z.number().nullish(),
        new_to_brand_rate: z.number().nullish(),
        cost_per_acquisition: z.number().nullish(),
        media_buy_count: z.number()
    }).nullish(),
    media_buy_deliveries: z.array(z.object({
        media_buy_id: z.string(),
        buyer_ref: z.string().nullish(),
        buyer_campaign_ref: z.string().nullish(),
        status: z.union([z.literal("pending_activation"), z.literal("pending"), z.literal("active"), z.literal("paused"), z.literal("completed"), z.literal("failed"), z.literal("reporting_delayed")]),
        expected_availability: z.string().nullish(),
        is_adjusted: z.boolean().nullish(),
        pricing_model: PricingModelSchema.nullish(),
        totals: DeliveryMetricsSchema.and(z.object({
            effective_rate: z.number().nullish()
        })),
        by_package: z.array(DeliveryMetricsSchema.and(z.object({
            package_id: z.string(),
            buyer_ref: z.string().nullish(),
            pacing_index: z.number().nullish(),
            pricing_model: PricingModelSchema,
            rate: z.number(),
            currency: z.string(),
            delivery_status: z.union([z.literal("delivering"), z.literal("completed"), z.literal("budget_exhausted"), z.literal("flight_ended"), z.literal("goal_met")]).nullish(),
            paused: z.boolean().nullish(),
            by_catalog_item: z.array(DeliveryMetricsSchema.and(z.object({
                content_id: z.string(),
                content_id_type: ContentIDTypeSchema.nullish()
            }))).nullish(),
            by_creative: z.array(DeliveryMetricsSchema.and(z.object({
                creative_id: z.string(),
                weight: z.number().nullish()
            }))).nullish()
        }))),
        daily_breakdown: z.array(z.object({
            date: z.string(),
            impressions: z.number(),
            spend: z.number(),
            conversions: z.number().nullish(),
            conversion_value: z.number().nullish(),
            roas: z.number().nullish(),
            new_to_brand_rate: z.number().nullish()
        })).nullish()
    })),
    errors: z.array(ErrorSchema).nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ProvidePerformanceFeedbackRequestSchema = z.object({
    media_buy_id: z.string().nullish(),
    buyer_ref: z.string().nullish(),
    measurement_period: z.object({
        start: z.string(),
        end: z.string()
    }).nullish(),
    performance_index: z.number().nullish(),
    package_id: z.string().nullish(),
    creative_id: z.string().nullish(),
    metric_type: MetricTypeSchema.nullish(),
    feedback_source: FeedbackSourceSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}).and(z.record(z.string(), z.union([z.unknown(), z.undefined()])));

export const ProvidePerformanceFeedbackResponseSchema = z.union([ProvidePerformanceFeedbackSuccessSchema, ProvidePerformanceFeedbackErrorSchema]);

export const SyncEventSourcesResponseSchema = z.union([SyncEventSourcesSuccessSchema, SyncEventSourcesErrorSchema]);

export const EventSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    event_id: z.string(),
    event_type: EventTypeSchema,
    event_time: z.string(),
    user_match: UserMatchSchema.nullish(),
    custom_data: EventCustomDataSchema.nullish(),
    action_source: ActionSourceSchema.nullish(),
    event_source_url: z.string().nullish(),
    custom_event_name: z.string().nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const LogEventResponseSchema = z.union([LogEventSuccessSchema, LogEventErrorSchema]);

export const SyncAudiencesResponseSchema = z.union([SyncAudiencesSuccessSchema, SyncAudiencesErrorSchema]);

export const CreativeBriefSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    name: z.string(),
    objective: z.union([z.literal("awareness"), z.literal("consideration"), z.literal("conversion"), z.literal("retention"), z.literal("engagement")]).nullish(),
    tone: z.string().nullish(),
    audience: z.string().nullish(),
    territory: z.string().nullish(),
    messaging: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        headline: z.string().nullish(),
        tagline: z.string().nullish(),
        cta: z.string().nullish(),
        key_messages: z.array(z.string()).nullish()
    })).nullish(),
    reference_assets: z.array(ReferenceAssetSchema).nullish()
}));

export const CreativeBriefReferenceSchema = z.union([CreativeBriefSchema, z.string()]);

export const BuildCreativeResponseSchema = z.union([BuildCreativeSuccessSchema, BuildCreativeErrorSchema]);

export const PreviewCreativeRequestSchema = z.union([z.object({
        request_type: z.literal("single"),
        format_id: FormatIDSchema.nullish(),
        creative_manifest: CreativeManifestSchema,
        inputs: z.array(z.object({
            name: z.string(),
            macros: z.record(z.string(), z.union([z.string(), z.undefined()])).nullish(),
            context_description: z.string().nullish()
        })).nullish(),
        template_id: z.string().nullish(),
        output_format: PreviewOutputFormatSchema.nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        request_type: z.literal("batch"),
        requests: z.array(z.object({
            format_id: FormatIDSchema.nullish(),
            creative_manifest: CreativeManifest1Schema,
            inputs: z.array(z.object({
                name: z.string(),
                macros: z.record(z.string(), z.union([z.string(), z.undefined()])).nullish(),
                context_description: z.string().nullish()
            })).nullish(),
            template_id: z.string().nullish(),
            output_format: PreviewOutputFormatSchema.nullish()
        })),
        output_format: PreviewOutputFormatSchema.nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        request_type: z.literal("variant"),
        variant_id: z.string(),
        creative_id: z.string().nullish(),
        output_format: PreviewOutputFormatSchema.nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const PreviewCreativeBatchResponseSchema = z.object({
    response_type: z.literal("batch"),
    results: z.array(z.union([PreviewBatchResultSuccessSchema, PreviewBatchResultErrorSchema])),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetCreativeDeliveryResponseSchema = z.object({
    account_id: z.string().nullish(),
    media_buy_id: z.string().nullish(),
    media_buy_buyer_ref: z.string().nullish(),
    currency: z.string(),
    reporting_period: z.object({
        start: z.string(),
        end: z.string(),
        timezone: z.string().nullish()
    }),
    creatives: z.array(z.object({
        creative_id: z.string(),
        media_buy_id: z.string().nullish(),
        format_id: FormatIDSchema.nullish(),
        totals: DeliveryMetricsSchema.nullish(),
        variant_count: z.number().nullish(),
        variants: z.array(CreativeVariantSchema)
    })),
    pagination: z.object({
        limit: z.number(),
        offset: z.number(),
        has_more: z.boolean(),
        total: z.number().nullish()
    }).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const GetSignalsRequestSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    signal_spec: z.string().nullish(),
    signal_ids: z.array(SignalIDSchema).nullish(),
    deliver_to: z.object({
        deployments: z.array(DestinationSchema),
        countries: z.array(z.string())
    }),
    filters: SignalFiltersSchema.nullish(),
    max_results: z.number().nullish(),
    pagination: PaginationRequestSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
}));

export const GetSignalsResponseSchema = z.object({
    signals: z.array(z.object({
        signal_id: SignalIDSchema.nullish(),
        signal_agent_segment_id: z.string(),
        name: z.string(),
        description: z.string(),
        value_type: SignalValueTypeSchema.nullish(),
        signal_type: SignalCatalogTypeSchema,
        data_provider: z.string(),
        coverage_percentage: z.number(),
        deployments: z.array(DeploymentSchema),
        pricing: z.object({
            cpm: z.number(),
            currency: z.string()
        })
    })),
    errors: z.array(ErrorSchema).nullish(),
    pagination: PaginationResponseSchema.nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const ActivateSignalResponseSchema = z.union([ActivateSignalSuccessSchema, ActivateSignalErrorSchema]);

export const CreatePropertyListRequestSchema = z.object({
    name: z.string(),
    description: z.string().nullish(),
    base_properties: z.array(BasePropertySourceSchema).nullish(),
    filters: PropertyListFiltersSchema.nullish(),
    brand: BrandReferenceSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CreatePropertyListResponseSchema = z.object({
    list: PropertyListSchema,
    auth_token: z.string(),
    ext: ExtensionObjectSchema.nullish()
});

export const UpdatePropertyListResponseSchema = z.object({
    list: PropertyListSchema,
    ext: ExtensionObjectSchema.nullish()
});

export const ListContentStandardsResponseSchema = z.union([z.object({
        standards: z.array(ContentStandardsSchema),
        errors: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        pagination: PaginationResponseSchema.nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        errors: z.array(ErrorSchema),
        standards: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const GetContentStandardsResponseSchema = z.union([ContentStandardsSchema, z.object({
        errors: z.array(ErrorSchema),
        standards_id: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const GetCreativeFeaturesResponseSchema = z.union([z.object({
        results: z.array(CreativeFeatureResultSchema),
        detail_url: z.string().nullish(),
        errors: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    }), z.object({
        errors: z.array(ErrorSchema),
        results: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
        context: ContextObjectSchema.nullish(),
        ext: ExtensionObjectSchema.nullish()
    })]);

export const SIInitiateSessionRequestSchema = z.object({
    context: z.string(),
    identity: SIIdentitySchema,
    media_buy_id: z.string().nullish(),
    placement: z.string().nullish(),
    offering_id: z.string().nullish(),
    supported_capabilities: SICapabilitiesSchema.nullish(),
    offering_token: z.string().nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const A2UISurfaceSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    surfaceId: z.string(),
    catalogId: z.string().nullish(),
    components: z.array(A2UIComponentSchema),
    rootId: z.string().nullish(),
    dataModel: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish()
}));

export const SyncAccountsResponseSchema = z.union([SyncAccountsSuccessSchema, SyncAccountsErrorSchema]);

export const AdCPAsyncResponseDataSchema = z.union([GetProductsResponseSchema, GetProductsAsyncWorkingSchema, GetProductsAsyncInputRequiredSchema, GetProductsAsyncSubmittedSchema, CreateMediaBuyResponseSchema, CreateMediaBuyAsyncWorkingSchema, CreateMediaBuyAsyncInputRequiredSchema, CreateMediaBuyAsyncSubmittedSchema, UpdateMediaBuyResponseSchema, UpdateMediaBuyAsyncWorkingSchema, UpdateMediaBuyAsyncInputRequiredSchema, UpdateMediaBuyAsyncSubmittedSchema, SyncCreativesResponseSchema, SyncCreativesAsyncWorkingSchema, SyncCreativesAsyncInputRequiredSchema, SyncCreativesAsyncSubmittedSchema, SyncCatalogsResponseSchema, SyncCatalogsAsyncWorkingSchema, SyncCatalogsAsyncInputRequiredSchema, SyncCatalogsAsyncSubmittedSchema]);

export const MCPWebhookPayloadSchema = z.object({
    operation_id: z.string().nullish(),
    task_id: z.string(),
    task_type: TaskTypeSchema,
    domain: AdCPDomainSchema.nullish(),
    status: TaskStatusSchema,
    timestamp: z.string(),
    message: z.string().nullish(),
    context_id: z.string().nullish(),
    result: AdCPAsyncResponseDataSchema.nullish()
});

export const GetProductsRequestSchema = z.object({
    brief: z.string().nullish(),
    brand: BrandReferenceSchema.nullish(),
    catalog: CatalogSchema.nullish(),
    account_id: z.string().nullish(),
    buyer_campaign_ref: z.string().nullish(),
    filters: ProductFiltersSchema.nullish(),
    property_list: PropertyListReferenceSchema.nullish(),
    pagination: PaginationRequestSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const CatalogRequirementsSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    catalog_type: CatalogTypeSchema,
    required: z.boolean().nullish(),
    min_items: z.number().nullish(),
    required_fields: z.array(z.string()).nullish(),
    feed_formats: z.array(FeedFormatSchema).nullish(),
    offering_asset_constraints: z.array(OfferingAssetConstraintSchema).nullish()
}));

export const CreateMediaBuyRequestSchema = z.object({
    buyer_ref: z.string(),
    buyer_campaign_ref: z.string().nullish(),
    account_id: z.string().nullish(),
    proposal_id: z.string().nullish(),
    total_budget: z.object({
        amount: z.number(),
        currency: z.string()
    }).nullish(),
    packages: z.array(PackageRequestSchema).nullish(),
    brand: BrandReferenceSchema,
    po_number: z.string().nullish(),
    start_time: StartTimingSchema,
    end_time: z.string(),
    reporting_webhook: ReportingWebhookSchema.nullish(),
    artifact_webhook: z.object({
        url: z.string(),
        token: z.string().nullish(),
        authentication: z.object({
            schemes: z.union([z.tuple([]), z.tuple([AuthenticationSchemeSchema])]),
            credentials: z.string()
        }),
        delivery_mode: z.union([z.literal("realtime"), z.literal("batched")]),
        batch_frequency: z.union([z.literal("hourly"), z.literal("daily")]).nullish(),
        sampling_rate: z.number().nullish()
    }).nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const LogEventRequestSchema = z.object({
    event_source_id: z.string(),
    test_event_code: z.string().nullish(),
    events: z.array(EventSchema),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const BuildCreativeRequestSchema = z.object({
    message: z.string().nullish(),
    creative_manifest: CreativeManifestSchema.nullish(),
    target_format_id: FormatIDSchema,
    brand: BrandReferenceSchema.nullish(),
    creative_brief: CreativeBriefReferenceSchema.nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const PreviewCreativeResponseSchema = z.union([PreviewCreativeSingleResponseSchema, PreviewCreativeBatchResponseSchema, PreviewCreativeVariantResponseSchema]);

export const SISendMessageResponseSchema = z.object({
    session_id: z.string(),
    response: z.object({
        message: z.string().nullish(),
        surface: A2UISurfaceSchema.nullish(),
        ui_elements: z.array(SIUIElementSchema).nullish()
    }).nullish(),
    mcp_resource_uri: z.string().nullish(),
    session_status: z.union([z.literal("active"), z.literal("pending_handoff"), z.literal("complete")]),
    handoff: z.object({
        type: z.union([z.literal("transaction"), z.literal("complete")]).nullish(),
        intent: z.object({
            action: z.string().nullish(),
            product: z.object({}).nullish(),
            price: z.object({
                amount: z.number().nullish(),
                currency: z.string().nullish()
            }).nullish()
        }).nullish(),
        context_for_checkout: z.object({
            conversation_summary: z.string().nullish(),
            applied_offers: z.array(z.string()).nullish()
        }).nullish()
    }).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    ext: ExtensionObjectSchema.nullish()
});

export const FormatSchema = z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
    format_id: FormatIDSchema,
    name: z.string(),
    description: z.string().nullish(),
    example_url: z.string().nullish(),
    type: FormatCategorySchema.nullish(),
    accepts_parameters: z.array(FormatIDParameterSchema).nullish(),
    renders: z.tuple([z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])), z.object({
                parameters_from_format_id: z.literal(true)
            })])]).rest(z.union([z.record(z.string(), z.union([z.unknown(), z.undefined()])), z.object({
            parameters_from_format_id: z.literal(true)
        })])).nullish(),
    assets: z.array(z.union([BaseIndividualAssetSchema, z.object({
            item_type: z.literal("repeatable_group"),
            asset_group_id: z.string(),
            required: z.boolean(),
            min_count: z.number(),
            max_count: z.number(),
            selection_mode: z.union([z.literal("sequential"), z.literal("optimize")]).nullish(),
            assets: z.array(BaseGroupAssetSchema)
        })])).nullish(),
    delivery: z.record(z.string(), z.union([z.unknown(), z.undefined()])).nullish(),
    supported_macros: z.array(z.union([UniversalMacroSchema, z.string()])).nullish(),
    input_format_ids: z.array(FormatIDSchema).nullish(),
    output_format_ids: z.array(FormatIDSchema).nullish(),
    format_card: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        format_id: FormatIDSchema,
        manifest: z.record(z.string(), z.union([z.unknown(), z.undefined()]))
    })).nullish(),
    accessibility: z.object({
        wcag_level: WCAGLevelSchema,
        requires_accessible_assets: z.boolean().nullish()
    }).nullish(),
    format_card_detailed: z.record(z.string(), z.union([z.unknown(), z.undefined()])).and(z.object({
        format_id: FormatIDSchema,
        manifest: z.record(z.string(), z.union([z.unknown(), z.undefined()]))
    })).nullish(),
    catalog_requirements: z.array(CatalogRequirementsSchema).nullish(),
    reported_metrics: z.array(AvailableMetricSchema).nullish()
}));

export const ListCreativeFormatsResponseSchema = z.object({
    formats: z.array(FormatSchema),
    creative_agents: z.array(z.object({
        agent_url: z.string(),
        agent_name: z.string().nullish(),
        capabilities: z.array(CreativeAgentCapabilitySchema).nullish()
    })).nullish(),
    errors: z.array(ErrorSchema).nullish(),
    pagination: PaginationResponseSchema.nullish(),
    sandbox: z.boolean().nullish(),
    context: ContextObjectSchema.nullish(),
    ext: ExtensionObjectSchema.nullish()
});
